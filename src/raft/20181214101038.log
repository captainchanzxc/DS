last heard time 1544753440356, timeout 390
last heard time 1544753440356, timeout 429
last heard time 1544753440356, timeout 429
last heard time 1544753440357, timeout 430
last heard time 1544753440357, timeout 440
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.753 peer 0 starts election
2018/12/14/ 10:10:10.757 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.758 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.757 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.758 peer 0 becomes leader
2018/12/14/ 10:10:10.758 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
start hb
2018/12/14/ 10:10:10.763 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.763 peer 1 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.763 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.764 peer 2 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.764 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.764 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:10.765 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.765 leader 0 replicate peer 2: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
2018/12/14/ 10:10:10.766 peer 3 in leader 0(last log index 1) nextIndex 1
peer 2 true!!!!!!!
match index: [2 0 2 0 0]
next index: [2 1 2 1 1]
2018/12/14/ 10:10:10.766 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.766 leader 0 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 0 2 2 0]
next index: [2 1 2 2 1]
2018/12/14/ 10:10:10.793 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.793 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.793 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.794 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.794 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.794 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.794 leader 0 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:10.794 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.794 leader 0 replicate peer 1: [{1 100}]
 peer 4 true!!!!!!!
match index: [2 0 2 2 2]
next index: [2 1 2 2 2]
peer 1 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
peer 4 applied: 100
peer 1 applied: 100
peer 0 applied: 100
2018/12/14/ 10:10:10.824 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.824 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.824 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.824 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.824 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.854 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.854 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.854 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.854 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.854 peer 3 in leader 0(last log index 1) nextIndex 2
peer 3 applied: 100
peer 2 applied: 100
2018/12/14/ 10:10:10.885 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.885 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.885 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.885 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.885 peer 0 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.915 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.916 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.916 peer 2 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.916 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.916 leader 0 replicate peer 4: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:10.917 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.917 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.917 peer 3 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.917 leader 0 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:10.917 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.918 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:10.917 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.918 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 2 3 2 3]
next index: [2 2 3 2 3]
peer 1 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 0 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:10.918 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.918 leader 0 replicate peer 3: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 1 applied: 200
peer 3 applied: 200
peer 4 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:10.945 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.946 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.946 peer 2 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.946 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.946 peer 1 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.976 peer 0 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.977 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.977 peer 2 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.978 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.978 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:10.978 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.978 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:10.978 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.978 leader 0 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.978 peer 3 in leader 0(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
peer 2 true!!!!!!!
match index: [3 3 4 3 4]
next index: [3 3 4 3 4]
peer 0 true!!!!!!!
match index: [4 3 4 3 4]
next index: [4 3 4 3 4]
2018/12/14/ 10:10:10.979 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.979 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.980 leader 0 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 3 4 4 4]
next index: [4 3 4 4 4]
2018/12/14/ 10:10:10.980 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.980 leader 0 replicate peer 1: [{1 300}]
 peer 1 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 1 applied: 300
peer 4 applied: 300
peer 0 applied: 300
peer 2 applied: 300
peer 3 applied: 300
2018/12/14/ 10:10:10.007 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.007 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.007 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.007 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.007 peer 3 in leader 0(last log index 3) nextIndex 4
  ... Passed --   0.7  5   31    3
PASS
ok  	raft	0.670s
=======================
last heard time 1544753442913, timeout 426
last heard time 1544753442913, timeout 489
last heard time 1544753442914, timeout 473
last heard time 1544753442914, timeout 476
last heard time 1544753442914, timeout 400
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.322 peer 4 starts election
2018/12/14/ 10:10:10.326 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.326 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.326 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.327 peer 4 becomes leader
2018/12/14/ 10:10:10.327 peer 4 in leader 4(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:10.327 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.327 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.327 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.327 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.327 peer 3 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.357 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.357 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.358 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.358 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.358 peer 3 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.388 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.388 peer 0 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.388 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.389 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.389 leader 4 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:10.389 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.389 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.389 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:10.389 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.390 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.390 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:10.390 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.390 leader 4 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:10.390 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.390 leader 4 replicate peer 4: []
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
peer 0 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 1 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
peer 4 applied: 100
2018/12/14/ 10:10:10.418 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.418 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.418 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.418 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.419 peer 1 in leader 4(last log index 1) nextIndex 2
peer 1 applied: 100
peer 2 applied: 100
peer 0 applied: 100
peer 3 applied: 100
2018/12/14/ 10:10:10.449 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.449 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.449 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.449 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.449 peer 3 in leader 4(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
peer 4 applied: 200
2018/12/14/ 10:10:10.479 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.480 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.480 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.480 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:10.481 peer 0 in leader 4(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:10.481 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.481 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:10.481 peer 2 in leader 4(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
2018/12/14/ 10:10:10.481 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.481 peer 3 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.481 leader 4 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:10.482 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.482 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:10.482 leader 4 replicate send 3: [{1 200}]
 peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
2018/12/14/ 10:10:10.482 leader 4 replicate peer 3: [{1 200}]
 peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 1 applied: 200
peer 2 applied: 200
peer 3 applied: 200
2018/12/14/ 10:10:10.510 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.510 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.510 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.510 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.510 peer 3 in leader 4(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
peer 4 applied: 300
2018/12/14/ 10:10:10.540 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.540 peer 2 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.541 peer 1 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.541 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.541 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:10.541 peer 0 in leader 4(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:10.542 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.542 leader 4 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:10.541 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.542 leader 4 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.542 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.542 peer 3 in leader 4(last log index 3) nextIndex 3
peer 2 true!!!!!!!
2018/12/14/ 10:10:10.542 leader 4 replicate peer 0: [{1 300}]
 match index: [3 3 4 3 4]
next index: [3 3 4 3 4]
peer 1 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 0 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:10.543 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.543 leader 4 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 3 applied: 300
peer 2 applied: 300
peer 1 applied: 300
peer 0 applied: 300
  ... Passed --   0.6  5   31    3
PASS
ok  	raft	0.655s
=======================
last heard time 1544753445539, timeout 393
last heard time 1544753445540, timeout 393
last heard time 1544753445540, timeout 446
last heard time 1544753445540, timeout 456
last heard time 1544753445540, timeout 442
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.936 peer 1 starts election
2018/12/14/ 10:10:10.936 peer 0 starts election
2018/12/14/ 10:10:10.939 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.939 peer 4(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.939 peer 3(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.939 peer 0(votedFor 0) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:10.939 peer 1(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:10.939 peer 2(votedFor 0) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:10.940 peer 1 becomes leader
2018/12/14/ 10:10:10.940 peer 4 in leader 1(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:10.940 peer 4(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:10.940 peer 3(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:10.940 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.940 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.940 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.940 peer 3 in leader 1(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.970 peer 4 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.971 leader 1 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.971 leader 1 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:10.971 peer 1 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.972 leader 1 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.972 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:10.972 peer 0 in leader 1(last log index 1) nextIndex 1
peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:10.972 peer 2 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.973 leader 1 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.973 leader 1 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:10.973 leader 1 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.973 leader 1 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:10.973 peer 3 in leader 1(last log index 1) nextIndex 1
peer 2 true!!!!!!!
match index: [0 2 2 0 0]
next index: [1 2 2 1 1]
peer 4 true!!!!!!!
match index: [0 2 2 0 2]
next index: [1 2 2 1 2]
peer 0 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:10.974 leader 1 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.974 leader 1 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:10.000 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.001 peer 3 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.001 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.001 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.001 peer 4 in leader 1(last log index 1) nextIndex 2
peer 1 applied: 100
2018/12/14/ 10:10:10.031 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.031 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.031 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.032 peer 3 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.032 peer 0 in leader 1(last log index 1) nextIndex 2
peer 0 applied: 100
peer 2 applied: 100
peer 4 applied: 100
peer 3 applied: 100
2018/12/14/ 10:10:10.062 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.062 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.062 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.062 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.062 peer 3 in leader 1(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.092 peer 4 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.092 peer 1 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.093 peer 0 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.093 leader 1 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.093 leader 1 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.093 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:10.093 leader 1 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:10.093 peer 2 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.094 leader 1 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.094 leader 1 replicate peer 0: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:10.094 leader 1 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.094 leader 1 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:10.094 peer 3 in leader 1(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:10.095 leader 1 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.095 leader 1 replicate peer 3: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 3 applied: 200
peer 2 applied: 200
peer 1 applied: 200
2018/12/14/ 10:10:10.123 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.123 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.123 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.123 peer 2 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.123 peer 3 in leader 1(last log index 2) nextIndex 3
peer 4 applied: 200
2018/12/14/ 10:10:10.153 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.153 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.153 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.154 peer 2 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.154 peer 3 in leader 1(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.183 peer 4 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.184 peer 1 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.184 leader 1 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.184 leader 1 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:10.184 peer 2 in leader 1(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:10.185 peer 3 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.185 leader 1 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.185 leader 1 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.185 peer 0 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.185 leader 1 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.185 leader 1 replicate peer 3: [{1 300}]
 peer 2 true!!!!!!!
match index: [3 3 4 3 4]
next index: [3 3 4 3 4]
peer 3 true!!!!!!!
match index: [3 3 4 4 4]
next index: [3 3 4 4 4]
2018/12/14/ 10:10:10.186 leader 1 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.186 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:10.186 leader 1 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.186 leader 1 replicate peer 0: [{1 300}]
 peer 1 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
peer 2 applied: 300
peer 1 applied: 300
peer 3 applied: 300
2018/12/14/ 10:10:10.214 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.214 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.214 peer 1 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.214 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.214 peer 3 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.244 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.244 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.244 peer 1 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.244 peer 3 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.244 peer 2 in leader 1(last log index 3) nextIndex 4
peer 4 applied: 300
  ... Passed --   0.7  5   39    3
PASS
ok  	raft	0.748s
=======================
last heard time 1544753448042, timeout 401
last heard time 1544753448043, timeout 353
last heard time 1544753448043, timeout 364
last heard time 1544753448043, timeout 409
last heard time 1544753448044, timeout 407
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.398 peer 1 starts election
2018/12/14/ 10:10:10.401 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.402 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.402 peer 1 becomes leader
start hb
2018/12/14/ 10:10:10.403 peer 3(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.403 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.403 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.403 peer 4(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.403 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.404 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.404 peer 3 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.433 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.433 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.433 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.433 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.433 peer 3 in leader 1(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.464 peer 4 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.464 peer 1 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.465 leader 1 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.465 leader 1 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:10.465 leader 1 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.465 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:10.465 peer 0 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.465 peer 2 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.466 leader 1 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.466 leader 1 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:10.466 leader 1 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.466 leader 1 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:10.466 peer 3 in leader 1(last log index 1) nextIndex 1
peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
peer 1 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
peer 0 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:10.467 leader 1 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.467 leader 1 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:10.494 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.494 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.494 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.494 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.494 peer 3 in leader 1(last log index 1) nextIndex 2
peer 1 applied: 100
2018/12/14/ 10:10:10.524 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.524 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.525 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.525 peer 3 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.525 peer 1 in leader 1(last log index 1) nextIndex 2
peer 3 applied: 100
peer 4 applied: 100
peer 2 applied: 100
peer 0 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.555 peer 4 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.555 leader 1 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.555 leader 1 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:10.555 peer 0 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.556 leader 1 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.556 leader 1 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:10.556 peer 2 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.557 leader 1 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.557 leader 1 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:10.557 peer 3 in leader 1(last log index 2) nextIndex 2
peer 2 true!!!!!!!
match index: [2 2 3 2 2]
next index: [2 2 3 2 2]
2018/12/14/ 10:10:10.558 peer 1 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.558 leader 1 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.558 leader 1 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:10.558 leader 1 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.558 leader 1 replicate peer 1: []
 peer 4 true!!!!!!!
match index: [2 2 3 2 3]
next index: [2 2 3 2 3]
peer 0 true!!!!!!!
match index: [3 2 3 2 3]
next index: [3 2 3 2 3]
peer 3 true!!!!!!!
match index: [3 2 3 3 3]
next index: [3 2 3 3 3]
peer 1 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 3 applied: 200
peer 1 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:10.585 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.585 peer 2 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.585 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.585 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.585 peer 3 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.615 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.615 peer 3 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.616 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.616 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.616 peer 2 in leader 1(last log index 2) nextIndex 3
peer 0 applied: 200
peer 4 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.646 peer 4 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.646 peer 1 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.646 leader 1 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.647 leader 1 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:10.646 peer 2 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.647 leader 1 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.647 leader 1 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.647 peer 0 in leader 1(last log index 3) nextIndex 3
peer 2 true!!!!!!!
match index: [3 3 4 3 3]
next index: [3 3 4 3 3]
2018/12/14/ 10:10:10.648 peer 3 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.648 leader 1 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.648 leader 1 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:10.649 leader 1 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.649 leader 1 replicate peer 3: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 3 4 3 4]
next index: [3 3 4 3 4]
2018/12/14/ 10:10:10.649 leader 1 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.649 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [4 3 4 3 4]
next index: [4 3 4 3 4]
peer 1 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 1 applied: 300
2018/12/14/ 10:10:10.676 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.676 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.676 peer 3 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.676 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.677 peer 1 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.707 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.707 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.707 peer 1 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.707 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.707 peer 3 in leader 1(last log index 3) nextIndex 4
peer 3 applied: 300
peer 0 applied: 300
peer 4 applied: 300
peer 2 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.687s
=======================
last heard time 1544753450414, timeout 422
last heard time 1544753450414, timeout 475
last heard time 1544753450414, timeout 490
last heard time 1544753450415, timeout 468
last heard time 1544753450415, timeout 458
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.842 peer 0 starts election
2018/12/14/ 10:10:10.846 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.847 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.847 peer 0 becomes leader
start hb
2018/12/14/ 10:10:10.847 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.847 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.847 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.848 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.848 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.848 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.848 peer 3 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.878 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.878 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.879 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.879 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:10.879 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.880 leader 0 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:10.880 peer 2 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.880 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.881 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.881 leader 0 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:10.881 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.881 leader 0 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:10.881 peer 3 in leader 0(last log index 1) nextIndex 1
peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
peer 4 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 2 true!!!!!!!
match index: [2 0 2 0 2]
next index: [2 1 2 1 2]
peer 1 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:10.882 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.883 leader 0 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:10.908 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.908 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.908 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.908 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.908 peer 1 in leader 0(last log index 1) nextIndex 2
peer 0 applied: 100
2018/12/14/ 10:10:10.938 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.939 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.939 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.939 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.939 peer 0 in leader 0(last log index 1) nextIndex 2
peer 1 applied: 100
peer 3 applied: 100
peer 4 applied: 100
peer 2 applied: 100
2018/12/14/ 10:10:10.969 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.969 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.969 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.969 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.969 peer 1 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.999 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.999 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.000 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.000 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.000 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.000 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:10.000 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:10.000 peer 2 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.001 peer 3 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.002 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.002 leader 0 replicate peer 2: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:10.003 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.003 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.003 leader 0 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:10.003 leader 0 replicate peer 0: []
 peer 3 true!!!!!!!
match index: [2 3 2 3 2]
next index: [2 3 2 3 2]
peer 2 true!!!!!!!
match index: [2 3 3 3 2]
next index: [2 3 3 3 2]
peer 0 true!!!!!!!
match index: [3 3 3 3 2]
next index: [3 3 3 3 2]
peer 4 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
2018/12/14/ 10:10:10.030 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.030 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.030 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.030 peer 2 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.030 peer 3 in leader 0(last log index 2) nextIndex 3
peer 1 applied: 200
peer 3 applied: 200
peer 2 applied: 200
peer 4 applied: 200
2018/12/14/ 10:10:10.061 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.061 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.061 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.061 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.061 peer 2 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.091 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.091 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.092 peer 3 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.092 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.092 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:10.092 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.092 leader 0 replicate peer 1: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:10.092 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.093 leader 0 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:10.093 peer 0 in leader 0(last log index 3) nextIndex 3
peer 3 true!!!!!!!
match index: [3 3 3 4 4]
next index: [3 3 3 4 4]
2018/12/14/ 10:10:10.093 peer 2 in leader 0(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 4 4]
next index: [3 4 3 4 4]
2018/12/14/ 10:10:10.094 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.094 leader 0 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.094 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.094 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
2018/12/14/ 10:10:10.121 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.122 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.122 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.122 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.122 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.152 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.152 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.152 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.152 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.152 peer 1 in leader 0(last log index 3) nextIndex 4
peer 4 applied: 300
peer 1 applied: 300
peer 3 applied: 300
peer 2 applied: 300
2018/12/14/ 10:10:10.182 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.183 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.183 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.183 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.183 peer 3 in leader 0(last log index 3) nextIndex 4
  ... Passed --   0.8  5   35    3
PASS
ok  	raft	0.799s
=======================
last heard time 1544753453155, timeout 426
last heard time 1544753453155, timeout 384
last heard time 1544753453156, timeout 448
last heard time 1544753453156, timeout 390
last heard time 1544753453156, timeout 429
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.542 peer 1 starts election
2018/12/14/ 10:10:10.546 peer 4(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.547 peer 3(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.547 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.547 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:10.547 peer 1 becomes leader
start hb
2018/12/14/ 10:10:10.547 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.547 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.547 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.548 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.548 peer 3 in leader 1(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.578 peer 0 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.578 peer 4 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.579 peer 1 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.579 leader 1 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.579 leader 1 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:10.579 leader 1 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.580 leader 1 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:10.579 peer 2 in leader 1(last log index 1) nextIndex 1
peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:10.580 peer 3 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.581 leader 1 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.581 leader 1 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:10.581 leader 1 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.581 leader 1 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:10.581 leader 1 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.581 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 2 true!!!!!!!
match index: [2 0 2 0 2]
next index: [2 1 2 1 2]
peer 3 true!!!!!!!
match index: [2 0 2 2 2]
next index: [2 1 2 2 2]
peer 1 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:10.608 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.608 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.608 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.609 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.609 peer 3 in leader 1(last log index 1) nextIndex 2
peer 1 applied: 100
2018/12/14/ 10:10:10.639 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.639 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.639 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.639 peer 3 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.639 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.669 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.669 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.669 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.670 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.670 peer 3 in leader 1(last log index 1) nextIndex 2
peer 2 applied: 100
peer 0 applied: 100
peer 4 applied: 100
peer 3 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.700 peer 0 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.700 peer 4 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.700 leader 1 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.701 leader 1 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:10.701 leader 1 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.701 leader 1 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:10.701 peer 1 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.702 leader 1 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.702 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:10.702 peer 2 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.702 peer 3 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.703 leader 1 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.703 leader 1 replicate peer 2: [{1 200}]
 peer 0 true!!!!!!!
match index: [3 2 2 2 2]
next index: [3 2 2 2 2]
peer 4 true!!!!!!!
match index: [3 2 2 2 3]
next index: [3 2 2 2 3]
peer 1 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:10.703 leader 1 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.704 leader 1 replicate peer 3: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 2 applied: 200
peer 3 applied: 200
peer 0 applied: 200
peer 4 applied: 200
peer 1 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.730 peer 4 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.731 leader 1 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.731 leader 1 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:10.731 peer 1 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.731 peer 0 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.732 leader 1 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.732 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:10.732 peer 2 in leader 1(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 3]
next index: [3 4 3 3 3]
2018/12/14/ 10:10:10.732 peer 3 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.732 leader 1 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.732 leader 1 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:10.733 leader 1 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.733 leader 1 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.733 leader 1 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.733 leader 1 replicate peer 3: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
peer 0 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
peer 2 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 3 applied: 300
peer 1 applied: 300
peer 0 applied: 300
peer 4 applied: 300
peer 2 applied: 300
  ... Passed --   0.6  5   27    3
PASS
ok  	raft	0.606s
=======================
last heard time 1544753455585, timeout 445
last heard time 1544753455586, timeout 471
last heard time 1544753455586, timeout 448
last heard time 1544753455586, timeout 468
last heard time 1544753455587, timeout 435
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.028 peer 4 starts election
2018/12/14/ 10:10:10.032 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.032 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.033 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:10.033 peer 4 becomes leader
2018/12/14/ 10:10:10.033 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
start hb
2018/12/14/ 10:10:10.033 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.034 peer 3 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.034 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.034 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.035 peer 2 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.064 peer 0 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.064 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.064 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.065 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.065 leader 4 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:10.065 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.065 leader 4 replicate peer 4: []
 peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
2018/12/14/ 10:10:10.065 peer 2 in leader 4(last log index 1) nextIndex 1
peer 4 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
2018/12/14/ 10:10:10.065 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.065 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:10.066 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.066 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.066 leader 4 replicate peer 2: [{1 100}]
 peer 1 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:10.066 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.066 leader 4 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
peer 4 applied: 100
2018/12/14/ 10:10:10.094 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.094 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.094 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.094 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.094 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.124 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.125 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.125 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.125 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.125 peer 3 in leader 4(last log index 1) nextIndex 2
peer 2 applied: 100
peer 3 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:10.155 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.155 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.155 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.155 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.155 peer 3 in leader 4(last log index 1) nextIndex 2
peer 0 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.186 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.186 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.186 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.186 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:10.187 peer 0 in leader 4(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:10.187 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:10.187 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:10.187 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.187 leader 4 replicate peer 0: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
2018/12/14/ 10:10:10.188 peer 2 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.188 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.188 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:10.188 peer 3 in leader 4(last log index 2) nextIndex 2
peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:10.189 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.189 leader 4 replicate peer 3: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 4 applied: 200
2018/12/14/ 10:10:10.216 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.216 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.216 peer 3 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.216 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.216 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.247 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.247 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.247 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.247 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.247 peer 3 in leader 4(last log index 2) nextIndex 3
peer 0 applied: 200
peer 3 applied: 200
peer 2 applied: 200
peer 1 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.277 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.277 peer 0 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.277 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.278 peer 2 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.278 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.278 leader 4 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:10.278 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.278 leader 4 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:10.278 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.278 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:10.278 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.279 leader 4 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:10.279 peer 1 in leader 4(last log index 3) nextIndex 3
peer 2 true!!!!!!!
match index: [3 3 4 3 3]
next index: [3 3 4 3 3]
peer 0 true!!!!!!!
match index: [4 3 4 3 3]
next index: [4 3 4 3 3]
peer 3 true!!!!!!!
match index: [4 3 4 4 3]
next index: [4 3 4 4 3]
peer 4 true!!!!!!!
match index: [4 3 4 4 4]
next index: [4 3 4 4 4]
2018/12/14/ 10:10:10.279 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.280 leader 4 replicate peer 1: [{1 300}]
 peer 1 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 4 applied: 300
2018/12/14/ 10:10:10.308 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.308 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.308 peer 3 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.308 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.308 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.338 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.338 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.339 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.339 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:10.339 peer 3 in leader 4(last log index 3) nextIndex 4
peer 0 applied: 300
peer 2 applied: 300
peer 1 applied: 300
peer 3 applied: 300
  ... Passed --   0.8  5   35    3
PASS
ok  	raft	0.804s
=======================
last heard time 1544753458220, timeout 367
last heard time 1544753458221, timeout 407
last heard time 1544753458221, timeout 498
last heard time 1544753458221, timeout 429
last heard time 1544753458221, timeout 449
Test (2B): basic agreement ...
2018/12/14/ 10:10:10.596 peer 0 starts election
2018/12/14/ 10:10:10.601 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.601 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.601 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.601 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:10.601 peer 0 becomes leader
start hb
2018/12/14/ 10:10:10.601 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.602 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.602 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.602 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:10.602 peer 0 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:10.632 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.633 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.633 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:10.633 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:10.633 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.634 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:10.634 leader 0 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:10.634 peer 2 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.634 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:10.634 leader 0 replicate peer 1: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:10.634 peer 3 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:10.634 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:10.635 leader 0 replicate peer 2: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 1 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:10.635 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:10.635 leader 0 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:10.663 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.663 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.663 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.663 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.663 peer 0 in leader 0(last log index 1) nextIndex 2
peer 0 applied: 100
2018/12/14/ 10:10:10.693 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.693 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.693 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.693 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.693 peer 1 in leader 0(last log index 1) nextIndex 2
peer 3 applied: 100
peer 2 applied: 100
peer 4 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:10.724 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.724 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.724 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.724 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:10.724 peer 3 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:10.754 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.755 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:10.755 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:10.755 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.756 peer 2 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:10.756 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:10.756 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:10.756 peer 3 in leader 0(last log index 2) nextIndex 2
peer 0 true!!!!!!!
match index: [3 2 2 2 2]
next index: [3 2 2 2 2]
2018/12/14/ 10:10:10.756 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:10.756 leader 0 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:10.757 peer 1 in leader 0(last log index 2) nextIndex 2
peer 2 true!!!!!!!
match index: [3 2 3 2 2]
next index: [3 2 3 2 2]
peer 4 true!!!!!!!
match index: [3 2 3 2 3]
next index: [3 2 3 2 3]
2018/12/14/ 10:10:10.757 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:10.757 leader 0 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:10.757 leader 0 replicate send 1: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 2 3 3 3]
next index: [3 2 3 3 3]
2018/12/14/ 10:10:10.757 leader 0 replicate peer 1: [{1 200}]
 peer 1 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 2 applied: 200
peer 0 applied: 200
peer 3 applied: 200
peer 4 applied: 200
peer 1 applied: 200
2018/12/14/ 10:10:10.785 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.785 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.785 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.785 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:10.786 peer 2 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:10.816 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.816 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.816 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:10.816 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:10.817 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:10.817 leader 0 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:10.817 peer 0 in leader 0(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 3]
next index: [3 4 3 3 3]
2018/12/14/ 10:10:10.817 peer 3 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:10.817 peer 2 in leader 0(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:10.818 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:10.818 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:10.818 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:10.818 leader 0 replicate peer 2: [{1 300}]
 peer 0 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
peer 2 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:10.818 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:10.818 leader 0 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
peer 2 applied: 300
peer 3 applied: 300
peer 4 applied: 300
peer 1 applied: 300
  ... Passed --   0.6  5   31    3
PASS
ok  	raft	0.627s
=======================
last heard time 1544753460556, timeout 488
last heard time 1544753460557, timeout 385
last heard time 1544753460557, timeout 355
last heard time 1544753460557, timeout 417
last heard time 1544753460557, timeout 402
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.913 peer 2 starts election
2018/12/14/ 10:10:11.917 peer 4(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.917 peer 3(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.918 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.918 peer 2 becomes leader
2018/12/14/ 10:10:11.918 peer 4 in leader 2(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:11.918 peer 1 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.918 peer 0 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.918 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.918 peer 2 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.918 peer 3 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.948 peer 4 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.948 peer 0 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 3 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 2 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 1 in leader 2(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.978 peer 0 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.979 peer 4 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.979 peer 1 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.979 leader 2 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.979 leader 2 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.979 leader 2 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.980 leader 2 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.980 peer 2 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.980 leader 2 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.980 leader 2 replicate peer 1: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:11.980 peer 3 in leader 2(last log index 1) nextIndex 1
peer 1 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
2018/12/14/ 10:10:11.980 leader 2 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.980 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:11.980 leader 2 replicate send 3: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.981 leader 2 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.009 peer 4 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.009 peer 0 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.009 peer 1 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.009 peer 2 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.009 peer 3 in leader 2(last log index 1) nextIndex 2
peer 2 applied: 100
2018/12/14/ 10:10:11.039 peer 4 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.040 peer 0 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.040 peer 3 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.040 peer 2 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.040 peer 1 in leader 2(last log index 1) nextIndex 2
peer 4 applied: 100
peer 0 applied: 100
peer 1 applied: 100
peer 3 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.070 peer 4 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.071 leader 2 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.071 leader 2 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.071 peer 1 in leader 2(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.071 peer 2 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.071 leader 2 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.072 leader 2 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.072 peer 3 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.073 peer 0 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.073 leader 2 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.073 leader 2 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:11.073 leader 2 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.073 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:11.073 leader 2 replicate send 0: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
2018/12/14/ 10:10:11.073 leader 2 replicate peer 0: [{1 200}]
 peer 2 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 3 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 2 applied: 200
peer 0 applied: 200
peer 3 applied: 200
peer 1 applied: 200
2018/12/14/ 10:10:11.100 peer 1 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.100 peer 4 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.100 peer 2 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.101 peer 3 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.101 peer 0 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.131 peer 4 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.131 peer 0 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.131 peer 3 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.131 peer 2 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.131 peer 1 in leader 2(last log index 2) nextIndex 3
peer 4 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.161 peer 4 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.162 peer 1 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.162 peer 3 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.162 peer 0 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.162 leader 2 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.162 leader 2 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.162 leader 2 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.163 leader 2 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.162 peer 2 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.163 leader 2 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.163 leader 2 replicate peer 0: [{1 300}]
 peer 1 true!!!!!!!
match index: [3 4 3 3 3]
next index: [3 4 3 3 3]
peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
peer 0 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
2018/12/14/ 10:10:11.164 leader 2 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.164 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:11.162 leader 2 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.164 leader 2 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 2 applied: 300
2018/12/14/ 10:10:11.192 peer 4 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.192 peer 0 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.192 peer 1 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.192 peer 3 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.192 peer 2 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.223 peer 4 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.223 peer 0 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.223 peer 3 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.223 peer 2 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.223 peer 1 in leader 2(last log index 3) nextIndex 4
peer 0 applied: 300
peer 3 applied: 300
peer 4 applied: 300
peer 1 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.687s
=======================
last heard time 1544753463234, timeout 414
last heard time 1544753463235, timeout 442
last heard time 1544753463235, timeout 375
last heard time 1544753463236, timeout 363
last heard time 1544753463236, timeout 471
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.602 peer 3 starts election
2018/12/14/ 10:10:11.605 peer 0(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.605 peer 2(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.606 peer 1(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.606 peer 3 becomes leader
2018/12/14/ 10:10:11.606 peer 4(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.606 peer 4 in leader 3(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:11.607 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.607 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.607 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.607 peer 3 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.637 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.637 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.637 peer 3 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.637 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.637 peer 1 in leader 3(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.667 peer 4 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.668 peer 1 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.668 leader 3 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.668 leader 3 replicate peer 4: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:11.669 peer 0 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.669 leader 3 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.669 leader 3 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.669 peer 2 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.669 leader 3 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.669 leader 3 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.670 peer 3 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.670 leader 3 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.670 leader 3 replicate peer 2: [{1 100}]
 peer 1 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
2018/12/14/ 10:10:11.670 leader 3 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.670 leader 3 replicate peer 3: []
 peer 0 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.697 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.698 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.698 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.698 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.698 peer 0 in leader 3(last log index 1) nextIndex 2
peer 2 applied: 100
peer 1 applied: 100
peer 3 applied: 100
peer 0 applied: 100
peer 4 applied: 100
2018/12/14/ 10:10:11.728 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.728 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.728 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.728 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.728 peer 3 in leader 3(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.758 peer 4 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.759 peer 1 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.759 leader 3 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.759 leader 3 replicate peer 4: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.760 peer 2 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.760 leader 3 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.760 leader 3 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.760 leader 3 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.760 leader 3 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.760 peer 0 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.761 leader 3 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.761 leader 3 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.761 peer 3 in leader 3(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 2 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 0 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:11.762 leader 3 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.762 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 2 applied: 200
peer 3 applied: 200
peer 0 applied: 200
2018/12/14/ 10:10:11.789 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.789 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.789 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.789 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.789 peer 3 in leader 3(last log index 2) nextIndex 3
peer 1 applied: 200
peer 4 applied: 200
2018/12/14/ 10:10:11.819 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.819 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.819 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.820 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.820 peer 3 in leader 3(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.849 peer 4 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.850 peer 1 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.850 leader 3 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.850 peer 2 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.850 leader 3 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.851 peer 3 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.851 leader 3 replicate send 2: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.851 leader 3 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.851 peer 0 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.850 leader 3 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.851 leader 3 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.852 leader 3 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.852 leader 3 replicate peer 3: []
 peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
peer 3 true!!!!!!!
match index: [3 4 3 4 4]
next index: [3 4 3 4 4]
peer 2 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
2018/12/14/ 10:10:11.852 leader 3 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.852 leader 3 replicate peer 0: [{1 300}]
 peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 3 applied: 300
2018/12/14/ 10:10:11.880 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.880 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.880 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.880 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.880 peer 3 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.910 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.910 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.911 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.911 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.911 peer 3 in leader 3(last log index 3) nextIndex 4
peer 0 applied: 300
peer 1 applied: 300
peer 2 applied: 300
peer 4 applied: 300
2018/12/14/ 10:10:11.941 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.941 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.941 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.941 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.941 peer 3 in leader 3(last log index 3) nextIndex 4
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.730s
=======================
last heard time 1544753465749, timeout 401
last heard time 1544753465749, timeout 436
last heard time 1544753465750, timeout 488
last heard time 1544753465750, timeout 454
last heard time 1544753465750, timeout 377
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.136 peer 4 starts election
2018/12/14/ 10:10:11.139 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.140 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.140 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.140 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.140 peer 4 becomes leader
start hb
2018/12/14/ 10:10:11.141 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.141 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.141 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.141 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.141 peer 3 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.171 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.172 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.172 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.172 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.172 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.173 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.173 leader 4 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:11.173 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.173 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.173 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.173 peer 0 in leader 4(last log index 1) nextIndex 1
peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.174 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.174 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.174 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.174 leader 4 replicate peer 0: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
peer 3 true!!!!!!!
match index: [0 2 0 2 2]
next index: [1 2 1 2 2]
peer 2 true!!!!!!!
match index: [0 2 2 2 2]
next index: [1 2 2 2 2]
peer 0 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.202 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.202 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.202 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.202 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.203 peer 2 in leader 4(last log index 1) nextIndex 2
peer 4 applied: 100
2018/12/14/ 10:10:11.232 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.233 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.233 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.233 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.233 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.263 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.263 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.263 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.263 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.263 peer 1 in leader 4(last log index 1) nextIndex 2
peer 1 applied: 100
peer 0 applied: 100
peer 3 applied: 100
peer 2 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.293 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.293 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.294 peer 2 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.294 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.294 peer 3 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.294 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.294 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.294 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.295 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.295 leader 4 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:11.295 peer 0 in leader 4(last log index 2) nextIndex 2
peer 3 true!!!!!!!
match index: [2 2 2 3 2]
next index: [2 2 2 3 2]
2018/12/14/ 10:10:11.295 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.295 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.296 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.296 leader 4 replicate peer 0: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 3 3]
next index: [2 2 2 3 3]
peer 2 true!!!!!!!
match index: [2 2 3 3 3]
next index: [2 2 3 3 3]
peer 1 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 2 applied: 200
peer 4 applied: 200
peer 3 applied: 200
peer 1 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.324 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.324 peer 1 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.325 peer 0 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.325 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.325 leader 4 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.325 peer 2 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.326 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.326 leader 4 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.326 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.326 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.326 leader 4 replicate peer 2: [{1 300}]
 peer 0 true!!!!!!!
match index: [4 3 3 3 3]
next index: [4 3 3 3 3]
peer 1 true!!!!!!!
match index: [4 4 3 3 3]
next index: [4 4 3 3 3]
peer 2 true!!!!!!!
match index: [4 4 4 3 3]
next index: [4 4 4 3 3]
2018/12/14/ 10:10:11.327 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.327 leader 4 replicate peer 4: []
 peer 4 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:11.327 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.327 leader 4 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 2 applied: 300
peer 0 applied: 300
peer 4 applied: 300
peer 1 applied: 300
peer 3 applied: 300
  ... Passed --   0.6  5   27    3
PASS
ok  	raft	0.605s
=======================
last heard time 1544753468071, timeout 458
last heard time 1544753468072, timeout 466
last heard time 1544753468072, timeout 391
last heard time 1544753468072, timeout 367
last heard time 1544753468072, timeout 422
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.446 peer 3 starts election
2018/12/14/ 10:10:11.451 peer 4(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.452 peer 1(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.452 peer 2(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.452 peer 0(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.452 peer 3 becomes leader
start hb
2018/12/14/ 10:10:11.452 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.453 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.453 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.453 peer 3 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.453 peer 2 in leader 3(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.483 peer 4 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.483 peer 1 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.484 peer 0 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.484 leader 3 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.485 leader 3 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.484 leader 3 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.485 leader 3 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.484 peer 2 in leader 3(last log index 1) nextIndex 1
peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.485 peer 3 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.485 leader 3 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.486 leader 3 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.484 leader 3 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.486 leader 3 replicate peer 0: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
peer 2 true!!!!!!!
match index: [0 2 2 0 2]
next index: [1 2 2 1 2]
2018/12/14/ 10:10:11.486 leader 3 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.486 leader 3 replicate peer 3: []
 peer 0 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.513 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.513 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.513 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.513 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.513 peer 3 in leader 3(last log index 1) nextIndex 2
peer 3 applied: 100
2018/12/14/ 10:10:11.543 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.544 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.544 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.544 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.544 peer 3 in leader 3(last log index 1) nextIndex 2
peer 0 applied: 100
peer 2 applied: 100
peer 1 applied: 100
peer 4 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.574 peer 1 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.574 peer 4 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.575 leader 3 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.575 leader 3 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.575 peer 2 in leader 3(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.575 leader 3 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.575 leader 3 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.575 peer 3 in leader 3(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
2018/12/14/ 10:10:11.575 leader 3 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.576 leader 3 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.576 peer 0 in leader 3(last log index 2) nextIndex 2
peer 2 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
2018/12/14/ 10:10:11.576 leader 3 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.576 leader 3 replicate peer 3: []
 2018/12/14/ 10:10:11.576 leader 3 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.576 leader 3 replicate peer 0: [{1 200}]
 peer 3 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 3 applied: 200
2018/12/14/ 10:10:11.604 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.604 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.604 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.604 peer 3 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.604 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.634 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.634 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.635 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.635 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.635 peer 3 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.665 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.665 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.665 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.665 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.665 peer 3 in leader 3(last log index 2) nextIndex 3
peer 2 applied: 200
peer 0 applied: 200
peer 1 applied: 200
peer 4 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.695 peer 4 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.695 leader 3 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.695 peer 1 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.695 leader 3 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.696 peer 0 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.696 leader 3 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.696 leader 3 replicate peer 1: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.696 peer 2 in leader 3(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.696 leader 3 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.696 leader 3 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.696 peer 3 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.696 leader 3 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.697 leader 3 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.697 leader 3 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.697 leader 3 replicate peer 3: []
 peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 0 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 3 applied: 300
2018/12/14/ 10:10:11.725 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.725 peer 3 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.725 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.725 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.725 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.755 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.755 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.756 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.756 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.756 peer 3 in leader 3(last log index 3) nextIndex 4
peer 2 applied: 300
peer 0 applied: 300
peer 1 applied: 300
peer 4 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.726s
=======================
last heard time 1544753470528, timeout 408
last heard time 1544753470528, timeout 440
last heard time 1544753470529, timeout 429
last heard time 1544753470529, timeout 371
last heard time 1544753470529, timeout 379
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.905 peer 3 starts election
2018/12/14/ 10:10:11.908 peer 0(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.909 peer 4(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.909 peer 1(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.909 peer 2(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.909 peer 3 becomes leader
start hb
2018/12/14/ 10:10:11.909 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.910 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.910 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.910 peer 3 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.910 peer 1 in leader 3(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.940 peer 4 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.940 peer 0 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.941 leader 3 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.941 leader 3 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.941 peer 2 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.941 leader 3 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.941 peer 3 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.941 leader 3 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.942 peer 1 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.942 leader 3 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.942 leader 3 replicate peer 2: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
peer 2 true!!!!!!!
match index: [2 0 2 0 0]
next index: [2 1 2 1 1]
2018/12/14/ 10:10:11.942 leader 3 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.942 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [2 0 2 2 0]
next index: [2 1 2 2 1]
peer 4 true!!!!!!!
match index: [2 0 2 2 2]
next index: [2 1 2 2 2]
2018/12/14/ 10:10:11.942 leader 3 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.943 leader 3 replicate peer 1: [{1 100}]
 peer 1 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.970 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.970 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.970 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.970 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.970 peer 0 in leader 3(last log index 1) nextIndex 2
peer 3 applied: 100
2018/12/14/ 10:10:11.000 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.000 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.000 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.001 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.001 peer 1 in leader 3(last log index 1) nextIndex 2
peer 0 applied: 100
peer 1 applied: 100
peer 2 applied: 100
peer 4 applied: 100
2018/12/14/ 10:10:11.031 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.031 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.031 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.031 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.031 peer 0 in leader 3(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.061 peer 1 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.061 peer 4 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.062 leader 3 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.062 peer 2 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.062 leader 3 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.062 leader 3 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.062 leader 3 replicate peer 4: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.063 peer 3 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.063 leader 3 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.063 leader 3 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.063 peer 0 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.064 leader 3 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.064 leader 3 replicate peer 0: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 2 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 0 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:11.065 leader 3 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.065 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 3 applied: 200
peer 1 applied: 200
peer 4 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.091 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.091 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.091 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.092 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.092 peer 3 in leader 3(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.121 peer 0 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.122 peer 4 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.122 leader 3 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.122 leader 3 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.123 peer 1 in leader 3(last log index 3) nextIndex 3
peer 0 true!!!!!!!
match index: [4 3 3 3 3]
next index: [4 3 3 3 3]
2018/12/14/ 10:10:11.123 leader 3 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.123 leader 3 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.123 peer 2 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.124 leader 3 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.124 leader 3 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.124 peer 3 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.124 leader 3 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.124 leader 3 replicate peer 2: [{1 300}]
 peer 4 true!!!!!!!
match index: [4 3 3 3 4]
next index: [4 3 3 3 4]
peer 1 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
2018/12/14/ 10:10:11.125 leader 3 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.125 leader 3 replicate peer 3: []
 peer 2 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
peer 4 applied: 300
peer 1 applied: 300
peer 2 applied: 300
peer 3 applied: 300
  ... Passed --   0.6  5   31    3
PASS
ok  	raft	0.626s
=======================
last heard time 1544753472987, timeout 364
last heard time 1544753472987, timeout 390
last heard time 1544753472988, timeout 384
last heard time 1544753472988, timeout 467
last heard time 1544753472988, timeout 363
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.354 peer 4 starts election
2018/12/14/ 10:10:11.354 peer 0 starts election
2018/12/14/ 10:10:11.359 peer 4(votedFor 4) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:11.360 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.360 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.360 peer 0 becomes leader
2018/12/14/ 10:10:11.360 peer 2(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.361 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.359 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.361 peer 3(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.361 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.361 peer 1(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.361 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.361 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.361 peer 0(votedFor 0) current term 1 vote peer 4 current term 1: false
start hb
2018/12/14/ 10:10:11.362 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.391 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.391 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.392 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.392 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.392 peer 3 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.422 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.423 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.423 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.423 leader 0 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.423 peer 2 in leader 0(last log index 1) nextIndex 1
peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.424 peer 3 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.424 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.424 leader 0 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.424 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.424 leader 0 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:11.424 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.425 leader 0 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.424 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.426 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.426 leader 0 replicate peer 0: []
 peer 4 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
peer 3 true!!!!!!!
match index: [0 2 0 2 2]
next index: [1 2 1 2 2]
peer 2 true!!!!!!!
match index: [0 2 2 2 2]
next index: [1 2 2 2 2]
peer 0 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.452 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.452 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.452 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.452 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.452 peer 3 in leader 0(last log index 1) nextIndex 2
peer 0 applied: 100
peer 4 applied: 100
peer 3 applied: 100
peer 2 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:11.482 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.482 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.483 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.483 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.483 peer 0 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.513 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.513 peer 3 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.513 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.514 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.514 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.514 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.514 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.514 leader 0 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:11.514 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.514 peer 0 in leader 0(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.515 peer 2 in leader 0(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 3 true!!!!!!!
match index: [2 3 2 3 3]
2018/12/14/ 10:10:11.515 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.515 leader 0 replicate peer 2: [{1 200}]
 next index: [2 3 2 3 3]
2018/12/14/ 10:10:11.515 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.515 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [3 3 2 3 3]
next index: [3 3 2 3 3]
peer 2 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 1 applied: 200
peer 0 applied: 200
peer 4 applied: 200
peer 2 applied: 200
peer 3 applied: 200
2018/12/14/ 10:10:11.544 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.544 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.544 peer 2 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.544 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.544 peer 0 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.575 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.575 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.575 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.576 peer 0 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.576 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.576 peer 2 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.576 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.576 leader 0 replicate peer 1: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.576 peer 3 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.577 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.577 leader 0 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.577 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.577 leader 0 replicate peer 3: [{1 300}]
 peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.578 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.578 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
peer 2 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 1 applied: 300
peer 3 applied: 300
peer 0 applied: 300
peer 4 applied: 300
peer 2 applied: 300
  ... Passed --   0.6  5   35    3
PASS
ok  	raft	0.627s
=======================
last heard time 1544753475578, timeout 361
last heard time 1544753475579, timeout 379
last heard time 1544753475579, timeout 395
last heard time 1544753475579, timeout 406
last heard time 1544753475579, timeout 464
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.944 peer 0 starts election
2018/12/14/ 10:10:11.948 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.948 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.948 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.948 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.949 peer 0 becomes leader
start hb
2018/12/14/ 10:10:11.949 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.949 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.979 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.979 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.979 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.979 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.980 peer 2 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.010 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.011 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.011 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.011 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.011 leader 0 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.012 peer 2 in leader 0(last log index 1) nextIndex 1
peer 1 true!!!!!!!
2018/12/14/ 10:10:11.012 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.012 leader 0 replicate peer 4: [{1 100}]
 match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.012 peer 3 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.012 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.013 leader 0 replicate peer 2: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
2018/12/14/ 10:10:11.013 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.013 leader 0 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:11.013 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.013 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [0 2 2 0 2]
next index: [1 2 2 1 2]
peer 3 true!!!!!!!
match index: [0 2 2 2 2]
next index: [1 2 2 2 2]
peer 0 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.040 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.040 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.041 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.041 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.041 peer 3 in leader 0(last log index 1) nextIndex 2
peer 1 applied: 100
peer 2 applied: 100
peer 0 applied: 100
peer 4 applied: 100
peer 3 applied: 100
2018/12/14/ 10:10:11.071 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.071 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.071 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.071 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.071 peer 3 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.102 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.102 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.103 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.103 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.103 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.103 peer 2 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.104 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.104 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.104 peer 3 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.104 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.104 leader 0 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.104 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.104 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:11.105 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.105 leader 0 replicate peer 3: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
peer 2 true!!!!!!!
match index: [2 2 3 2 3]
next index: [2 2 3 2 3]
peer 1 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 0 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 1 applied: 200
peer 0 applied: 200
peer 2 applied: 200
peer 3 applied: 200
peer 4 applied: 200
2018/12/14/ 10:10:11.132 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.132 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.132 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.132 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.132 peer 2 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.162 peer 0 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.163 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.164 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.164 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.164 leader 0 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.164 peer 2 in leader 0(last log index 3) nextIndex 3
peer 1 true!!!!!!!
2018/12/14/ 10:10:11.164 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.164 leader 0 replicate peer 4: [{1 300}]
 match index: [3 4 3 3 3]
2018/12/14/ 10:10:11.165 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.165 leader 0 replicate peer 2: [{1 300}]
 next index: [3 4 3 3 3]
2018/12/14/ 10:10:11.165 peer 3 in leader 0(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
2018/12/14/ 10:10:11.166 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.166 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:11.166 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.166 leader 0 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 2 applied: 300
peer 0 applied: 300
peer 1 applied: 300
peer 3 applied: 300
peer 4 applied: 300
2018/12/14/ 10:10:11.193 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.193 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.193 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.193 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.193 peer 3 in leader 0(last log index 3) nextIndex 4
  ... Passed --   0.6  5   31    3
PASS
ok  	raft	0.651s
=======================
last heard time 1544753477926, timeout 418
last heard time 1544753477927, timeout 484
last heard time 1544753477927, timeout 496
last heard time 1544753477927, timeout 431
last heard time 1544753477927, timeout 386
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.314 peer 4 starts election
2018/12/14/ 10:10:11.319 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.319 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.319 peer 4 becomes leader
2018/12/14/ 10:10:11.319 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
start hb
2018/12/14/ 10:10:11.319 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.319 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.320 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.320 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.320 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.320 peer 3 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.350 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.350 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.350 peer 0 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.351 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.351 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.351 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.351 leader 4 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.351 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.351 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.352 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.351 peer 3 in leader 4(last log index 1) nextIndex 1
peer 2 true!!!!!!!
match index: [0 0 2 0 0]
next index: [1 1 2 1 1]
2018/12/14/ 10:10:11.352 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.352 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.353 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.353 leader 4 replicate peer 3: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 2 0 0]
next index: [2 1 2 1 1]
peer 1 true!!!!!!!
match index: [2 2 2 0 0]
next index: [2 2 2 1 1]
peer 4 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.380 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.381 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.381 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.381 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.381 peer 1 in leader 4(last log index 1) nextIndex 2
peer 4 applied: 100
2018/12/14/ 10:10:11.411 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.411 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.411 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.411 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.411 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.441 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.441 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.441 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.441 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.441 peer 0 in leader 4(last log index 1) nextIndex 2
peer 2 applied: 100
peer 3 applied: 100
peer 0 applied: 100
peer 1 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.472 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.472 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.472 peer 2 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.472 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.473 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.473 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.473 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.473 peer 3 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.473 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.473 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.474 peer 0 in leader 4(last log index 2) nextIndex 2
peer 2 applied: 200
2018/12/14/ 10:10:11.474 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.474 leader 4 replicate peer 3: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
peer 3 true!!!!!!!
2018/12/14/ 10:10:11.475 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.475 leader 4 replicate peer 0: [{1 200}]
 match index: [2 2 2 3 3]
next index: [2 2 2 3 3]
peer 1 true!!!!!!!
match index: [2 3 2 3 3]
peer 1 applied: 200
next index: [2 3 2 3 3]
peer 2 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 4 applied: 200
2018/12/14/ 10:10:11.502 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.502 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.502 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.502 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.502 peer 3 in leader 4(last log index 2) nextIndex 3
peer 0 applied: 200
peer 3 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.532 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.533 peer 1 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.533 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.533 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.533 peer 0 in leader 4(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.534 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.534 leader 4 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.534 peer 2 in leader 4(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.534 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.534 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.534 leader 4 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.535 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.535 leader 4 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.534 leader 4 replicate send 2: [{1 300}]
 peer 0 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
peer 3 true!!!!!!!
match index: [4 4 3 4 4]
next index: [4 4 3 4 4]
2018/12/14/ 10:10:11.535 leader 4 replicate peer 2: [{1 300}]
 peer 0 applied: 300
peer 2 applied: 300
peer 2 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 4 applied: 300
2018/12/14/ 10:10:11.563 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.563 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.563 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.563 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.563 peer 3 in leader 4(last log index 3) nextIndex 4
peer 3 applied: 300
2018/12/14/ 10:10:11.593 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.593 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.594 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.594 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.594 peer 3 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.624 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.624 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.624 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.624 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.624 peer 3 in leader 4(last log index 3) nextIndex 4
peer 1 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.728s
=======================
last heard time 1544753480411, timeout 493
last heard time 1544753480411, timeout 478
last heard time 1544753480411, timeout 412
last heard time 1544753480412, timeout 481
last heard time 1544753480412, timeout 355
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.767 peer 4 starts election
2018/12/14/ 10:10:11.771 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.771 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.772 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.772 peer 4 becomes leader
start hb
2018/12/14/ 10:10:11.772 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.772 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.772 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.772 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.772 peer 3 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.773 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.803 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.803 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.803 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.803 peer 3 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.803 peer 2 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.833 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.834 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.834 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.834 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.834 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.835 peer 0 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.835 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.835 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.835 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.835 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.835 leader 4 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.836 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.836 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.836 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.836 leader 4 replicate peer 3: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
peer 0 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 3 true!!!!!!!
match index: [2 0 0 2 2]
next index: [2 1 1 2 2]
peer 2 true!!!!!!!
match index: [2 0 2 2 2]
next index: [2 1 2 2 2]
peer 1 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.864 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.864 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.864 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.864 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.864 peer 3 in leader 4(last log index 1) nextIndex 2
peer 4 applied: 100
2018/12/14/ 10:10:11.894 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.894 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.894 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.894 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.895 peer 3 in leader 4(last log index 1) nextIndex 2
peer 1 applied: 100
peer 2 applied: 100
peer 0 applied: 100
peer 3 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.924 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.925 peer 0 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.926 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.926 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.926 leader 4 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.926 peer 2 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.927 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.927 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.927 leader 4 replicate send 2: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.927 peer 3 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.927 leader 4 replicate peer 2: [{1 200}]
 peer 0 true!!!!!!!
match index: [3 3 2 2 2]
next index: [3 3 2 2 2]
2018/12/14/ 10:10:11.928 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.928 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.928 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.928 leader 4 replicate peer 3: [{1 200}]
 peer 2 true!!!!!!!
match index: [3 3 3 2 2]
peer 1 applied: 200
next index: [3 3 3 2 2]
peer 4 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 4 applied: 200
peer 2 applied: 200
peer 3 applied: 200
peer 0 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.955 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.955 peer 1 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.956 peer 0 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.956 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.956 leader 4 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.957 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.957 leader 4 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.956 peer 2 in leader 4(last log index 3) nextIndex 3
peer 0 true!!!!!!!
match index: [4 3 3 3 3]
next index: [4 3 3 3 3]
2018/12/14/ 10:10:11.957 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.957 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.957 leader 4 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.957 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.958 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.958 leader 4 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.958 leader 4 replicate peer 4: []
 peer 1 true!!!!!!!
match index: [4 4 3 3 3]
next index: [4 4 3 3 3]
peer 2 true!!!!!!!
match index: [4 4 4 3 3]
next index: [4 4 4 3 3]
peer 3 true!!!!!!!
match index: [4 4 4 4 3]
next index: [4 4 4 4 3]
peer 4 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 4 applied: 300
peer 0 applied: 300
peer 2 applied: 300
peer 3 applied: 300
peer 1 applied: 300
  ... Passed --   0.6  5   31    3
PASS
ok  	raft	0.585s
=======================
last heard time 1544753482744, timeout 360
last heard time 1544753482744, timeout 390
last heard time 1544753482745, timeout 458
last heard time 1544753482745, timeout 458
last heard time 1544753482745, timeout 394
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.109 peer 0 starts election
2018/12/14/ 10:10:11.113 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.113 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.113 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.114 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.114 peer 0 becomes leader
start hb
2018/12/14/ 10:10:11.114 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.114 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.115 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.115 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.115 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.145 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.145 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.145 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.145 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.145 peer 0 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.175 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.175 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.176 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.176 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.176 leader 0 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.176 leader 0 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.176 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.177 peer 2 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.177 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.177 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:11.177 peer 3 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.177 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.177 leader 0 replicate peer 2: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
peer 1 true!!!!!!!
match index: [2 2 0 0 0]
next index: [2 2 1 1 1]
peer 4 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.178 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.178 leader 0 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.205 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.205 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.206 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.206 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.206 peer 1 in leader 0(last log index 1) nextIndex 2
peer 2 applied: 100
peer 3 applied: 100
peer 4 applied: 100
peer 0 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:11.236 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.236 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.236 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.236 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.236 peer 3 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.266 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.267 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.267 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.267 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.267 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.267 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.267 peer 2 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.268 peer 3 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.268 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.268 leader 0 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.269 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.269 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.269 leader 0 replicate peer 3: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
peer 4 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 2 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 3 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
2018/12/14/ 10:10:11.270 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.270 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
2018/12/14/ 10:10:11.297 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.297 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.297 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.297 peer 2 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.297 peer 3 in leader 0(last log index 2) nextIndex 3
peer 3 applied: 200
peer 2 applied: 200
peer 4 applied: 200
peer 1 applied: 200
2018/12/14/ 10:10:11.327 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.327 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.327 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.327 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.327 peer 2 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.357 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.357 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.357 peer 3 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.358 peer 2 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.358 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.358 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.358 leader 0 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.358 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.358 peer 0 in leader 0(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.358 leader 0 replicate send 3: [{1 300}]
 peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.359 leader 0 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.359 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.359 leader 0 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.359 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.359 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 3 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
2018/12/14/ 10:10:11.388 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.388 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.388 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.388 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.388 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.418 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.419 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.419 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.419 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.419 peer 3 in leader 0(last log index 3) nextIndex 4
peer 2 applied: 300
peer 3 applied: 300
peer 4 applied: 300
peer 1 applied: 300
2018/12/14/ 10:10:11.449 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.449 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.449 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.449 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.449 peer 1 in leader 0(last log index 3) nextIndex 4
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.729s
=======================
last heard time 1544753485418, timeout 359
last heard time 1544753485419, timeout 435
last heard time 1544753485419, timeout 406
last heard time 1544753485419, timeout 471
last heard time 1544753485419, timeout 357
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.783 peer 4 starts election
2018/12/14/ 10:10:11.783 peer 0 starts election
2018/12/14/ 10:10:11.787 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.787 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.788 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.788 peer 0 becomes leader
2018/12/14/ 10:10:11.788 peer 2(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.788 peer 4 in leader 0(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:11.788 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.788 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.788 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.788 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.788 peer 3(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.789 peer 1(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.789 peer 0(votedFor 0) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.788 peer 4(votedFor 4) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:11.819 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.819 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.819 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.819 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.819 peer 2 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.849 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.849 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.850 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.850 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.850 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.850 leader 0 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.851 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.851 leader 0 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.850 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.851 peer 2 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.851 peer 3 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.852 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.852 leader 0 replicate peer 2: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
peer 0 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.852 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.852 leader 0 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.880 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.880 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.880 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.880 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.880 peer 3 in leader 0(last log index 1) nextIndex 2
peer 0 applied: 100
peer 1 applied: 100
peer 3 applied: 100
peer 2 applied: 100
peer 4 applied: 100
2018/12/14/ 10:10:11.910 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.910 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.910 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.910 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.910 peer 2 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.940 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.941 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.941 peer 3 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.941 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.941 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.941 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.941 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.941 peer 2 in leader 0(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.941 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.942 leader 0 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:11.942 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.942 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.942 leader 0 replicate peer 2: [{1 200}]
 peer 3 true!!!!!!!
match index: [2 3 2 3 2]
next index: [2 3 2 3 2]
peer 4 true!!!!!!!
match index: [2 3 2 3 3]
next index: [2 3 2 3 3]
peer 2 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
2018/12/14/ 10:10:11.943 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.943 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
2018/12/14/ 10:10:11.971 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.971 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.971 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.971 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.971 peer 2 in leader 0(last log index 2) nextIndex 3
peer 1 applied: 200
peer 4 applied: 200
peer 2 applied: 200
peer 3 applied: 200
2018/12/14/ 10:10:11.001 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.001 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.001 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.001 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.002 peer 2 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.031 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.032 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.032 peer 3 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.032 peer 2 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.032 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.032 peer 0 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.032 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.033 leader 0 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.033 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.033 leader 0 replicate peer 2: [{1 300}]
 peer 3 true!!!!!!!
match index: [3 3 3 4 3]
next index: [3 3 3 4 3]
2018/12/14/ 10:10:11.032 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.033 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.034 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:11.032 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.034 leader 0 replicate peer 1: [{1 300}]
 peer 2 true!!!!!!!
match index: [3 3 4 4 3]
next index: [3 3 4 4 3]
peer 4 true!!!!!!!
match index: [3 3 4 4 4]
next index: [3 3 4 4 4]
peer 0 true!!!!!!!
match index: [4 3 4 4 4]
next index: [4 3 4 4 4]
peer 1 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
2018/12/14/ 10:10:11.062 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.062 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.062 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.062 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.063 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.093 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.093 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.093 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.093 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.093 peer 3 in leader 0(last log index 3) nextIndex 4
peer 1 applied: 300
peer 4 applied: 300
peer 3 applied: 300
peer 2 applied: 300
2018/12/14/ 10:10:11.123 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.123 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.123 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.123 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.124 peer 3 in leader 0(last log index 3) nextIndex 4
  ... Passed --   0.7  5   39    3
PASS
ok  	raft	0.728s
=======================
last heard time 1544753488089, timeout 366
last heard time 1544753488090, timeout 363
last heard time 1544753488091, timeout 472
last heard time 1544753488091, timeout 394
last heard time 1544753488091, timeout 469
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.455 peer 1 starts election
2018/12/14/ 10:10:11.455 peer 0 starts election
2018/12/14/ 10:10:11.459 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.460 peer 4(votedFor 0) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:11.460 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.460 peer 3(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.460 peer 2(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:11.460 peer 1(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:11.460 peer 0(votedFor 0) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:11.461 peer 3(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:11.461 peer 1 becomes leader
start hb
2018/12/14/ 10:10:11.461 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.461 peer 3 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.461 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.461 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.462 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.492 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.492 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.492 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.492 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.492 peer 3 in leader 1(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.522 peer 4 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.523 leader 1 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.523 leader 1 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.523 peer 1 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.524 peer 2 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.525 peer 0 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.525 leader 1 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.525 leader 1 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.525 peer 3 in leader 1(last log index 1) nextIndex 1
peer 2 true!!!!!!!
match index: [0 0 2 0 0]
next index: [1 1 2 1 1]
peer 4 true!!!!!!!
match index: [0 0 2 0 2]
next index: [1 1 2 1 2]
2018/12/14/ 10:10:11.526 leader 1 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.526 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [0 2 2 0 2]
next index: [1 2 2 1 2]
2018/12/14/ 10:10:11.525 leader 1 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.526 leader 1 replicate peer 0: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.526 leader 1 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.526 leader 1 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.553 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.553 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.553 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.553 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.553 peer 3 in leader 1(last log index 1) nextIndex 2
peer 0 applied: 100
peer 2 applied: 100
peer 3 applied: 100
peer 1 applied: 100
peer 4 applied: 100
2018/12/14/ 10:10:11.583 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.583 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.583 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.583 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.583 peer 3 in leader 1(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.613 peer 4 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.614 peer 1 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.614 peer 3 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.614 leader 1 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.614 leader 1 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.614 peer 0 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.614 leader 1 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.615 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:11.614 leader 1 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.615 leader 1 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:11.615 leader 1 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.615 leader 1 replicate peer 0: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.615 peer 2 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.616 leader 1 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.616 leader 1 replicate peer 2: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 2 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 3 true!!!!!!!
match index: [2 3 3 3 3]
next index: [2 3 3 3 3]
peer 0 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 4 applied: 200
peer 1 applied: 200
peer 3 applied: 200
peer 2 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.644 peer 4 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.644 peer 1 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.644 peer 2 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.645 leader 1 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.645 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:11.645 peer 3 in leader 1(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 3]
next index: [3 4 3 3 3]
2018/12/14/ 10:10:11.644 leader 1 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.645 leader 1 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.645 leader 1 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.645 leader 1 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.645 leader 1 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.646 leader 1 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.645 peer 0 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.646 leader 1 replicate send 0: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 3 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
2018/12/14/ 10:10:11.646 leader 1 replicate peer 0: [{1 300}]
 peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
peer 1 applied: 300
peer 2 applied: 300
peer 3 applied: 300
peer 4 applied: 300
2018/12/14/ 10:10:11.674 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.674 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.674 peer 3 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.674 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.674 peer 1 in leader 1(last log index 3) nextIndex 4
  ... Passed --   0.6  5   35    3
PASS
ok  	raft	0.609s
=======================
last heard time 1544753490410, timeout 480
last heard time 1544753490410, timeout 397
last heard time 1544753490411, timeout 408
last heard time 1544753490411, timeout 399
last heard time 1544753490411, timeout 449
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.815 peer 3 starts election
2018/12/14/ 10:10:11.815 peer 1 starts election
2018/12/14/ 10:10:11.820 peer 0(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.821 peer 0(votedFor 3) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:11.821 peer 2(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.820 peer 4(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.822 peer 3 becomes leader
2018/12/14/ 10:10:11.822 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.822 peer 4(votedFor 3) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:11.822 peer 0 in leader 3(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:11.822 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.823 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.823 peer 3 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.823 peer 2(votedFor 3) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:11.823 peer 3(votedFor 3) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:11.823 peer 1(votedFor 1) current term 1 vote peer 3 current term 1: false
2018/12/14/ 10:10:11.852 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.852 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.852 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.852 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.852 peer 3 in leader 3(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.883 peer 4 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.883 peer 1 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.883 peer 3 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.883 peer 2 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.883 leader 3 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.884 leader 3 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.884 leader 3 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.884 leader 3 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.884 leader 3 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.884 leader 3 replicate peer 3: []
 peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.884 leader 3 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.884 leader 3 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.884 peer 0 in leader 3(last log index 1) nextIndex 1
peer 2 true!!!!!!!
match index: [0 2 2 0 0]
next index: [1 2 2 1 1]
peer 4 true!!!!!!!
match index: [0 2 2 0 2]
next index: [1 2 2 1 2]
peer 3 true!!!!!!!
match index: [0 2 2 2 2]
next index: [1 2 2 2 2]
2018/12/14/ 10:10:11.885 leader 3 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.885 leader 3 replicate peer 0: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
peer 3 applied: 100
2018/12/14/ 10:10:11.913 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.913 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.913 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.914 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.914 peer 3 in leader 3(last log index 1) nextIndex 2
peer 2 applied: 100
peer 0 applied: 100
peer 4 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:11.944 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.944 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.944 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.945 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.945 peer 3 in leader 3(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.974 peer 4 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.975 peer 0 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.975 peer 1 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.975 leader 3 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.975 leader 3 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.975 leader 3 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.976 leader 3 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.976 leader 3 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.976 leader 3 replicate peer 1: [{1 200}]
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.976 peer 2 in leader 3(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
2018/12/14/ 10:10:11.976 peer 3 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.977 leader 3 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.977 leader 3 replicate peer 2: [{1 200}]
 peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:11.977 leader 3 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.977 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 3 applied: 200
2018/12/14/ 10:10:11.005 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.005 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.005 peer 3 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.006 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.006 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.035 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.035 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.036 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.036 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.036 peer 3 in leader 3(last log index 2) nextIndex 3
peer 2 applied: 200
peer 4 applied: 200
peer 1 applied: 200
peer 0 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.065 peer 4 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.066 peer 1 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.066 peer 0 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.066 leader 3 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.067 leader 3 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.067 leader 3 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.067 leader 3 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.067 leader 3 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.067 leader 3 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.067 peer 2 in leader 3(last log index 3) nextIndex 3
peer 0 true!!!!!!!
match index: [4 3 3 3 3]
next index: [4 3 3 3 3]
2018/12/14/ 10:10:11.068 peer 3 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.068 leader 3 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.068 leader 3 replicate peer 2: [{1 300}]
 peer 4 true!!!!!!!
match index: [4 3 3 3 4]
next index: [4 3 3 3 4]
peer 2 true!!!!!!!
match index: [4 3 4 3 4]
next index: [4 3 4 3 4]
peer 1 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:11.069 leader 3 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.069 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 3 applied: 300
2018/12/14/ 10:10:11.096 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.096 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.096 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.096 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.096 peer 3 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.127 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.127 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.127 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.127 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.127 peer 3 in leader 3(last log index 3) nextIndex 4
peer 2 applied: 300
peer 1 applied: 300
peer 4 applied: 300
peer 0 applied: 300
  ... Passed --   0.7  5   39    3
PASS
ok  	raft	0.758s
=======================
last heard time 1544753493197, timeout 435
last heard time 1544753493197, timeout 425
last heard time 1544753493197, timeout 438
last heard time 1544753493197, timeout 384
last heard time 1544753493198, timeout 493
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.582 peer 3 starts election
2018/12/14/ 10:10:11.584 peer 4(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.585 peer 2(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.585 peer 0(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.585 peer 3 becomes leader
start hb
2018/12/14/ 10:10:11.586 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.586 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.586 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.586 peer 1(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.586 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.586 peer 3 in leader 3(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.616 peer 4 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.617 peer 1 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.617 peer 0 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.617 leader 3 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.617 leader 3 replicate peer 1: [{1 100}]
 peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
2018/12/14/ 10:10:11.617 leader 3 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.617 leader 3 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.617 leader 3 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.617 leader 3 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.617 peer 2 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.618 peer 3 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.618 leader 3 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.618 leader 3 replicate peer 2: [{1 100}]
 peer 2 true!!!!!!!
match index: [0 2 2 0 0]
next index: [1 2 2 1 1]
peer 0 true!!!!!!!
match index: [2 2 2 0 0]
next index: [2 2 2 1 1]
peer 4 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.619 leader 3 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.619 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.646 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.646 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.646 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.647 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.647 peer 3 in leader 3(last log index 1) nextIndex 2
peer 3 applied: 100
2018/12/14/ 10:10:11.677 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.677 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.677 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.677 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.677 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.707 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.707 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.707 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.707 peer 2 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.707 peer 3 in leader 3(last log index 1) nextIndex 2
peer 0 applied: 100
peer 1 applied: 100
peer 2 applied: 100
peer 4 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.737 peer 4 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.738 leader 3 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.738 leader 3 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.738 peer 1 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.738 peer 0 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.738 leader 3 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.739 leader 3 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.738 leader 3 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.739 leader 3 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.739 peer 2 in leader 3(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
2018/12/14/ 10:10:11.739 peer 3 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.739 leader 3 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.739 leader 3 replicate peer 2: [{1 200}]
 peer 2 true!!!!!!!
match index: [2 3 3 2 2]
next index: [2 3 3 2 2]
peer 4 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
peer 0 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:11.739 leader 3 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.740 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 1 applied: 200
peer 3 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.767 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.768 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.768 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.768 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.768 peer 3 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.798 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.798 peer 0 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.798 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.798 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.798 peer 3 in leader 3(last log index 2) nextIndex 3
peer 4 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.828 peer 4 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.828 peer 1 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.828 leader 3 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.829 leader 3 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.829 leader 3 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.829 leader 3 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.829 peer 2 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.829 peer 0 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.829 peer 3 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.829 leader 3 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.829 leader 3 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.830 leader 3 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.830 leader 3 replicate peer 0: [{1 300}]
 peer 2 true!!!!!!!
match index: [3 3 4 3 3]
next index: [3 3 4 3 3]
peer 4 true!!!!!!!
match index: [3 3 4 3 4]
next index: [3 3 4 3 4]
peer 1 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 0 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:11.830 leader 3 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.830 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 3 applied: 300
2018/12/14/ 10:10:11.858 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.858 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.859 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.859 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.859 peer 3 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.889 peer 4 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.889 peer 0 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.889 peer 1 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.889 peer 2 in leader 3(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.889 peer 3 in leader 3(last log index 3) nextIndex 4
peer 0 applied: 300
peer 1 applied: 300
peer 2 applied: 300
peer 4 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.726s
=======================
last heard time 1544753495693, timeout 445
last heard time 1544753495693, timeout 364
last heard time 1544753495694, timeout 397
last heard time 1544753495694, timeout 428
last heard time 1544753495694, timeout 352
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.050 peer 4 starts election
2018/12/14/ 10:10:11.054 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.054 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.054 peer 4 becomes leader
start hb
2018/12/14/ 10:10:11.054 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.055 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.055 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.055 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.055 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.055 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.056 peer 3 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.085 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.085 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.085 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.085 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.085 peer 3 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.116 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.116 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.116 peer 0 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.116 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.117 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.117 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.117 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.117 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.117 leader 4 replicate peer 0: [{1 100}]
 peer 1 true!!!!!!!
match index: [0 2 0 0 0]
next index: [1 2 1 1 1]
peer 0 true!!!!!!!
match index: [2 2 0 0 0]
next index: [2 2 1 1 1]
2018/12/14/ 10:10:11.118 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.118 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.118 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.118 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.118 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.118 leader 4 replicate peer 3: [{1 100}]
 peer 2 true!!!!!!!
match index: [2 2 2 0 0]
next index: [2 2 2 1 1]
peer 4 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.146 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.146 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.146 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.146 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.146 peer 2 in leader 4(last log index 1) nextIndex 2
peer 4 applied: 100
2018/12/14/ 10:10:11.176 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.176 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.176 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.177 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.177 peer 1 in leader 4(last log index 1) nextIndex 2
peer 3 applied: 100
peer 1 applied: 100
peer 0 applied: 100
peer 2 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.207 peer 0 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.207 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.207 leader 4 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.207 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.208 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.208 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.209 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.209 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.209 peer 2 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.209 leader 4 replicate peer 1: [{1 200}]
 peer 1 applied: 200
2018/12/14/ 10:10:11.210 peer 3 in leader 4(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
peer 4 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 4 applied: 200
peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
2018/12/14/ 10:10:11.210 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.211 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.211 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.211 leader 4 replicate peer 3: [{1 200}]
 peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 2 applied: 200
2018/12/14/ 10:10:11.237 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.237 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.237 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.238 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.238 peer 3 in leader 4(last log index 2) nextIndex 3
peer 3 applied: 200
2018/12/14/ 10:10:11.268 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.268 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.268 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.268 peer 3 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.268 peer 2 in leader 4(last log index 2) nextIndex 3
peer 0 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.298 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.298 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.298 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.299 peer 1 in leader 4(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.299 peer 0 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.299 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.299 leader 4 replicate peer 1: [{1 300}]
 peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.299 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.299 leader 4 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.299 peer 2 in leader 4(last log index 3) nextIndex 3
peer 0 true!!!!!!!
match index: [4 4 3 3 4]
next index: [4 4 3 3 4]
2018/12/14/ 10:10:11.300 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.300 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.300 leader 4 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.300 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.300 leader 4 replicate peer 3: [{1 300}]
 peer 2 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 4 applied: 300
2018/12/14/ 10:10:11.328 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.328 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.329 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.329 peer 3 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.329 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.359 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.359 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.359 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.359 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.359 peer 3 in leader 4(last log index 3) nextIndex 4
peer 3 applied: 300
peer 1 applied: 300
peer 2 applied: 300
peer 0 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.708s
=======================
last heard time 1544753498225, timeout 477
last heard time 1544753498225, timeout 499
last heard time 1544753498226, timeout 365
last heard time 1544753498226, timeout 477
last heard time 1544753498226, timeout 435
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.593 peer 2 starts election
2018/12/14/ 10:10:11.597 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.598 peer 4(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.598 peer 2 becomes leader
start hb
2018/12/14/ 10:10:11.598 peer 4 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.598 peer 3(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.598 peer 2 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.598 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:11.599 peer 1 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.599 peer 0 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.599 peer 3 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.629 peer 4 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.629 peer 1 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.629 peer 0 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.629 peer 2 in leader 2(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.629 peer 3 in leader 2(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.659 peer 4 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.659 peer 1 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.659 peer 3 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.660 leader 2 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.660 leader 2 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.660 peer 2 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.660 leader 2 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.661 peer 0 in leader 2(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.661 leader 2 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.661 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:11.660 leader 2 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.661 leader 2 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:11.661 leader 2 replicate peer 1: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
peer 2 true!!!!!!!
match index: [0 0 2 0 2]
next index: [1 1 2 1 2]
peer 3 true!!!!!!!
match index: [0 0 2 2 2]
next index: [1 1 2 2 2]
peer 1 true!!!!!!!
match index: [0 2 2 2 2]
next index: [1 2 2 2 2]
2018/12/14/ 10:10:11.662 leader 2 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.662 leader 2 replicate peer 0: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.689 peer 0 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.690 peer 4 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.690 peer 2 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.690 peer 1 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.690 peer 3 in leader 2(last log index 1) nextIndex 2
peer 2 applied: 100
peer 1 applied: 100
peer 0 applied: 100
peer 3 applied: 100
peer 4 applied: 100
2018/12/14/ 10:10:11.720 peer 4 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.720 peer 0 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.720 peer 1 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.720 peer 3 in leader 2(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.720 peer 2 in leader 2(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.750 peer 4 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.750 peer 1 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.751 peer 2 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.751 peer 0 in leader 2(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.751 leader 2 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.751 leader 2 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.751 leader 2 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.751 leader 2 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.752 leader 2 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.752 leader 2 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.751 peer 3 in leader 2(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.752 leader 2 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.752 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:11.752 leader 2 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.753 leader 2 replicate peer 3: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 2 applied: 200
peer 3 applied: 200
2018/12/14/ 10:10:11.781 peer 4 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.781 peer 1 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.781 peer 0 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.781 peer 3 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.781 peer 2 in leader 2(last log index 2) nextIndex 3
peer 1 applied: 200
peer 0 applied: 200
peer 4 applied: 200
2018/12/14/ 10:10:11.811 peer 4 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.811 peer 1 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.811 peer 2 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.811 peer 0 in leader 2(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.812 peer 3 in leader 2(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.842 peer 4 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.843 peer 1 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.843 leader 2 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.843 leader 2 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.843 peer 3 in leader 2(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.843 peer 2 in leader 2(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.843 leader 2 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.844 leader 2 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.844 leader 2 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.844 leader 2 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.844 peer 0 in leader 2(last log index 3) nextIndex 3
peer 3 true!!!!!!!
match index: [3 3 3 4 4]
next index: [3 3 3 4 4]
peer 1 true!!!!!!!
match index: [3 4 3 4 4]
next index: [3 4 3 4 4]
2018/12/14/ 10:10:11.844 leader 2 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.844 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:11.844 leader 2 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.845 leader 2 replicate peer 0: [{1 300}]
 peer 2 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 2 applied: 300
peer 3 applied: 300
peer 0 applied: 300
peer 1 applied: 300
2018/12/14/ 10:10:11.872 peer 4 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.873 peer 0 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.873 peer 1 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.873 peer 2 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.873 peer 3 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.903 peer 4 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.903 peer 0 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.903 peer 1 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.903 peer 2 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.903 peer 3 in leader 2(last log index 3) nextIndex 4
peer 4 applied: 300
2018/12/14/ 10:10:11.933 peer 4 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.933 peer 0 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.933 peer 1 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.934 peer 2 in leader 2(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.934 peer 3 in leader 2(last log index 3) nextIndex 4
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.729s
=======================
last heard time 1544753500629, timeout 481
last heard time 1544753500630, timeout 492
last heard time 1544753500630, timeout 427
last heard time 1544753500630, timeout 426
last heard time 1544753500630, timeout 403
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.038 peer 4 starts election
2018/12/14/ 10:10:11.044 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.044 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.044 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.045 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.047 peer 4 becomes leader
start hb
2018/12/14/ 10:10:11.049 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.049 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.050 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.050 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.050 peer 3 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.080 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.080 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.080 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.080 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.080 peer 3 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.110 peer 0 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.110 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.110 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.111 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.111 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.111 leader 4 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.111 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.112 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.112 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.111 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.112 leader 4 replicate peer 3: [{1 100}]
 2018/12/14/ 10:10:11.112 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.112 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.112 leader 4 replicate peer 4: []
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:11.112 leader 4 replicate peer 1: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 2 true!!!!!!!
match index: [2 0 2 0 2]
next index: [2 1 2 1 2]
peer 3 true!!!!!!!
match index: [2 0 2 2 2]
next index: [2 1 2 2 2]
peer 1 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.141 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.141 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.141 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.141 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.141 peer 3 in leader 4(last log index 1) nextIndex 2
peer 4 applied: 100
2018/12/14/ 10:10:11.171 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.171 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.171 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.171 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.171 peer 3 in leader 4(last log index 1) nextIndex 2
peer 3 applied: 100
peer 2 applied: 100
peer 0 applied: 100
peer 1 applied: 100
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.201 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.202 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.202 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.202 leader 4 replicate peer 4: []
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.202 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.202 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.202 peer 0 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.203 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.203 leader 4 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.203 peer 2 in leader 4(last log index 2) nextIndex 2
peer 0 true!!!!!!!
match index: [3 2 2 2 3]
next index: [3 2 2 2 3]
2018/12/14/ 10:10:11.203 peer 3 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.203 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.203 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.203 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.203 leader 4 replicate peer 3: [{1 200}]
 peer 1 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 3 true!!!!!!!
match index: [3 3 2 3 3]
next index: [3 3 2 3 3]
peer 2 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 4 applied: 200
peer 3 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.232 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.232 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.232 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.232 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.232 peer 3 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.262 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.262 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.263 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.263 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.263 peer 3 in leader 4(last log index 2) nextIndex 3
peer 1 applied: 200
peer 0 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.293 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.293 peer 1 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.293 peer 0 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.294 peer 2 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.294 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.294 leader 4 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.294 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.294 leader 4 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.295 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.294 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.295 leader 4 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.295 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.295 leader 4 replicate peer 4: []
 peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
peer 1 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 0 true!!!!!!!
match index: [4 4 4 3 4]
next index: [4 4 4 3 4]
2018/12/14/ 10:10:11.295 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.296 leader 4 replicate peer 3: [{1 300}]
 peer 3 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 4 applied: 300
peer 3 applied: 300
2018/12/14/ 10:10:11.323 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.324 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.324 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.324 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.324 peer 3 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.354 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.354 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.354 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.354 peer 3 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.354 peer 2 in leader 4(last log index 3) nextIndex 4
peer 1 applied: 300
peer 0 applied: 300
peer 2 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.759s
=======================
last heard time 1544753503298, timeout 425
last heard time 1544753503298, timeout 486
last heard time 1544753503299, timeout 388
last heard time 1544753503299, timeout 426
last heard time 1544753503299, timeout 366
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.675 peer 4 starts election
2018/12/14/ 10:10:11.679 peer 3(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.679 peer 1(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.680 peer 4 becomes leader
start hb
2018/12/14/ 10:10:11.680 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.680 peer 0(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.680 peer 0 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.681 peer 1 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.681 peer 4 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.681 peer 2 in leader 4(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.681 peer 3 in leader 4(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.710 peer 4 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.711 peer 1 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.711 leader 4 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.711 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.711 peer 0 in leader 4(last log index 1) nextIndex 1
peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:11.711 leader 4 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.712 leader 4 replicate peer 1: [{1 100}]
 2018/12/14/ 10:10:11.712 peer 2 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.712 peer 3 in leader 4(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.712 leader 4 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.712 leader 4 replicate peer 0: [{1 100}]
 peer 1 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
2018/12/14/ 10:10:11.713 leader 4 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.713 leader 4 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.713 leader 4 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.713 leader 4 replicate peer 3: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.740 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 3 in leader 4(last log index 1) nextIndex 2
peer 4 applied: 100
2018/12/14/ 10:10:11.771 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 3 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 1 in leader 4(last log index 1) nextIndex 2
peer 2 applied: 100
peer 3 applied: 100
peer 0 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:11.802 peer 4 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.802 peer 1 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.802 peer 0 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.802 peer 2 in leader 4(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.802 peer 3 in leader 4(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.832 peer 4 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.832 peer 1 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.833 leader 4 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.833 leader 4 replicate peer 4: []
 peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.833 peer 2 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.833 leader 4 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.834 peer 0 in leader 4(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.834 leader 4 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.834 leader 4 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.834 leader 4 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.834 leader 4 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.835 leader 4 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.834 peer 3 in leader 4(last log index 2) nextIndex 2
peer 0 true!!!!!!!
match index: [3 2 2 2 3]
next index: [3 2 2 2 3]
peer 1 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 2 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
2018/12/14/ 10:10:11.835 leader 4 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.835 leader 4 replicate peer 3: [{1 200}]
 peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 4 applied: 200
2018/12/14/ 10:10:11.862 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.863 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.863 peer 3 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.863 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.863 peer 1 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.893 peer 4 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.893 peer 0 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.893 peer 3 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.893 peer 2 in leader 4(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.893 peer 1 in leader 4(last log index 2) nextIndex 3
peer 3 applied: 200
peer 0 applied: 200
peer 2 applied: 200
peer 1 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.923 peer 4 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.923 peer 1 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.923 peer 3 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.924 peer 2 in leader 4(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.924 leader 4 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.924 leader 4 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.924 leader 4 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.924 leader 4 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.924 leader 4 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.925 leader 4 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.924 peer 0 in leader 4(last log index 3) nextIndex 3
peer 2 true!!!!!!!
match index: [3 3 4 3 3]
next index: [3 3 4 3 3]
peer 1 true!!!!!!!
match index: [3 4 4 3 3]
next index: [3 4 4 3 3]
peer 3 true!!!!!!!
match index: [3 4 4 4 3]
next index: [3 4 4 4 3]
2018/12/14/ 10:10:11.926 leader 4 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.926 leader 4 replicate peer 4: []
 2018/12/14/ 10:10:11.926 leader 4 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.926 leader 4 replicate peer 0: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 4 applied: 300
2018/12/14/ 10:10:11.954 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.954 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.954 peer 3 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.954 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.954 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.984 peer 4 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.984 peer 0 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.985 peer 1 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.985 peer 2 in leader 4(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.985 peer 3 in leader 4(last log index 3) nextIndex 4
peer 2 applied: 300
peer 0 applied: 300
peer 1 applied: 300
peer 3 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.729s
=======================
last heard time 1544753505804, timeout 443
last heard time 1544753505804, timeout 404
last heard time 1544753505805, timeout 442
last heard time 1544753505805, timeout 493
last heard time 1544753505805, timeout 475
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.212 peer 1 starts election
2018/12/14/ 10:10:11.215 peer 4(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.216 peer 3(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.217 peer 1 becomes leader
2018/12/14/ 10:10:11.217 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.217 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.217 peer 0 in leader 1(last log index 0) nextIndex 1
start hb
2018/12/14/ 10:10:11.217 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.217 peer 3 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.218 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.218 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.247 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.247 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.248 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.248 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.248 peer 3 in leader 1(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.278 peer 4 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.278 peer 1 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.278 peer 0 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.279 leader 1 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.279 leader 1 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.279 peer 2 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.279 leader 1 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.279 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:11.279 leader 1 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.279 leader 1 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.279 peer 3 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.280 leader 1 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.280 leader 1 replicate peer 2: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
peer 4 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
2018/12/14/ 10:10:11.280 leader 1 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.280 leader 1 replicate peer 3: [{1 100}]
 peer 2 true!!!!!!!
match index: [2 0 2 0 2]
next index: [2 1 2 1 2]
peer 1 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.308 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.308 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.308 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.309 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.309 peer 3 in leader 1(last log index 1) nextIndex 2
peer 3 applied: 100
peer 2 applied: 100
peer 4 applied: 100
peer 1 applied: 100
peer 0 applied: 100
2018/12/14/ 10:10:11.339 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.339 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.339 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.339 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.339 peer 3 in leader 1(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.369 peer 4 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.370 peer 1 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.370 leader 1 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.370 leader 1 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.370 peer 2 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.371 peer 3 in leader 1(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.371 peer 0 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.371 leader 1 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.372 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:11.372 leader 1 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.372 leader 1 replicate peer 3: [{1 200}]
 2018/12/14/ 10:10:11.372 leader 1 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.372 leader 1 replicate peer 0: [{1 200}]
 peer 1 true!!!!!!!
match index: [2 3 2 2 3]
next index: [2 3 2 2 3]
2018/12/14/ 10:10:11.372 leader 1 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.372 leader 1 replicate peer 2: [{1 200}]
 peer 0 true!!!!!!!
match index: [3 3 2 2 3]
next index: [3 3 2 2 3]
peer 3 true!!!!!!!
match index: [3 3 2 3 3]
next index: [3 3 2 3 3]
peer 2 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 3 applied: 200
peer 0 applied: 200
peer 1 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.400 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.400 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.400 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.400 peer 2 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.400 peer 3 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.430 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.431 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.431 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.431 peer 2 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.431 peer 3 in leader 1(last log index 2) nextIndex 3
peer 4 applied: 200
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.461 peer 4 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.461 peer 1 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.461 peer 0 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.462 peer 2 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.462 leader 1 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.462 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:11.462 leader 1 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.462 peer 3 in leader 1(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 3]
next index: [3 4 3 3 3]
2018/12/14/ 10:10:11.462 leader 1 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.462 leader 1 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.462 leader 1 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.463 leader 1 replicate peer 2: [{1 300}]
 peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.463 leader 1 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.463 leader 1 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.462 leader 1 replicate peer 0: [{1 300}]
 peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
peer 3 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 1 applied: 300
peer 3 applied: 300
2018/12/14/ 10:10:11.491 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.492 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.492 peer 1 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.492 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.492 peer 3 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.522 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.522 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.522 peer 3 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.522 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.522 peer 1 in leader 1(last log index 3) nextIndex 4
peer 0 applied: 300
peer 2 applied: 300
peer 4 applied: 300
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.759s
=======================
last heard time 1544753508277, timeout 445
last heard time 1544753508278, timeout 359
last heard time 1544753508278, timeout 428
last heard time 1544753508278, timeout 467
last heard time 1544753508278, timeout 372
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.643 peer 1 starts election
2018/12/14/ 10:10:11.648 peer 3(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.648 peer 4(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.648 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.649 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:11.649 peer 1 becomes leader
start hb
2018/12/14/ 10:10:11.649 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.649 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.649 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.649 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.650 peer 3 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.679 peer 4 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.679 peer 1 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.680 peer 0 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.680 peer 2 in leader 1(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.680 peer 3 in leader 1(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.710 peer 0 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.710 peer 4 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.711 leader 1 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.711 leader 1 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.711 leader 1 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.711 leader 1 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.711 peer 1 in leader 1(last log index 1) nextIndex 1
peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:11.712 peer 2 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.712 leader 1 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.712 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:11.712 peer 3 in leader 1(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.712 leader 1 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.712 leader 1 replicate peer 2: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 2]
next index: [2 1 1 1 2]
peer 1 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.713 leader 1 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.713 leader 1 replicate peer 3: [{1 100}]
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.740 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.740 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.741 peer 3 in leader 1(last log index 1) nextIndex 2
peer 0 applied: 100
peer 1 applied: 100
peer 4 applied: 100
peer 3 applied: 100
peer 2 applied: 100
2018/12/14/ 10:10:11.771 peer 4 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 0 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 1 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 2 in leader 1(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.771 peer 3 in leader 1(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.801 peer 1 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.802 peer 4 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.802 peer 2 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.802 leader 1 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.802 leader 1 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.803 peer 3 in leader 1(last log index 2) nextIndex 2
peer 4 true!!!!!!!
match index: [2 2 2 2 3]
next index: [2 2 2 2 3]
2018/12/14/ 10:10:11.803 leader 1 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.803 leader 1 replicate peer 2: [{1 200}]
 2018/12/14/ 10:10:11.803 peer 0 in leader 1(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.803 leader 1 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.803 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [2 2 3 2 3]
next index: [2 2 3 2 3]
peer 1 true!!!!!!!
match index: [2 3 3 2 3]
next index: [2 3 3 2 3]
2018/12/14/ 10:10:11.804 leader 1 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.804 leader 1 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.804 leader 1 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.804 leader 1 replicate peer 3: [{1 200}]
 peer 0 true!!!!!!!
match index: [3 3 3 2 3]
next index: [3 3 3 2 3]
peer 3 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 1 applied: 200
peer 0 applied: 200
peer 3 applied: 200
peer 4 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.832 peer 4 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.832 peer 1 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.832 peer 2 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.832 peer 0 in leader 1(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.832 peer 3 in leader 1(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.862 peer 2 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.863 leader 1 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.863 leader 1 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.863 peer 4 in leader 1(last log index 3) nextIndex 3
peer 2 true!!!!!!!
match index: [3 3 4 3 3]
next index: [3 3 4 3 3]
2018/12/14/ 10:10:11.863 peer 3 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.864 leader 1 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.864 leader 1 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.864 leader 1 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.864 peer 0 in leader 1(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.864 leader 1 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.864 peer 1 in leader 1(last log index 3) nextIndex 3
peer 3 true!!!!!!!
match index: [3 3 4 4 3]
2018/12/14/ 10:10:11.865 leader 1 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.865 leader 1 replicate peer 0: [{1 300}]
 next index: [3 3 4 4 3]
peer 4 true!!!!!!!
match index: [3 3 4 4 4]
next index: [3 3 4 4 4]
2018/12/14/ 10:10:11.865 leader 1 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.865 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
peer 1 applied: 300
peer 2 applied: 300
peer 4 applied: 300
peer 3 applied: 300
2018/12/14/ 10:10:11.893 peer 4 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.893 peer 1 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.893 peer 0 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.893 peer 2 in leader 1(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.893 peer 3 in leader 1(last log index 3) nextIndex 4
  ... Passed --   0.6  5   31    3
PASS
ok  	raft	0.646s
=======================
last heard time 1544753510729, timeout 460
last heard time 1544753510729, timeout 441
last heard time 1544753510729, timeout 492
last heard time 1544753510729, timeout 406
last heard time 1544753510729, timeout 401
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.135 peer 4 starts election
2018/12/14/ 10:10:11.135 peer 3 starts election
2018/12/14/ 10:10:11.140 peer 0(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.140 peer 4(votedFor 4) current term 1 vote peer 3 current term 1: false
2018/12/14/ 10:10:11.140 peer 2(votedFor 4) current term 1 vote peer 4 current term 1: true
2018/12/14/ 10:10:11.140 peer 2(votedFor 4) current term 1 vote peer 3 current term 1: false
2018/12/14/ 10:10:11.140 peer 1(votedFor 3) current term 1 vote peer 3 current term 1: true
2018/12/14/ 10:10:11.141 peer 3(votedFor 3) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.141 peer 1(votedFor 3) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.141 peer 0(votedFor 3) current term 1 vote peer 4 current term 1: false
2018/12/14/ 10:10:11.141 peer 3 becomes leader
start hb
2018/12/14/ 10:10:11.141 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.141 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.141 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.142 peer 3 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.142 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.172 peer 4 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.172 peer 1 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.172 peer 0 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.172 peer 2 in leader 3(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.172 peer 3 in leader 3(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.202 peer 4 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.203 peer 1 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.203 leader 3 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.203 leader 3 replicate peer 4: [{1 100}]
 2018/12/14/ 10:10:11.204 peer 0 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.204 leader 3 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.204 leader 3 replicate peer 1: [{1 100}]
 peer 4 true!!!!!!!
match index: [0 0 0 0 2]
next index: [1 1 1 1 2]
2018/12/14/ 10:10:11.204 peer 2 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.204 leader 3 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.204 leader 3 replicate peer 0: [{1 100}]
 2018/12/14/ 10:10:11.205 peer 3 in leader 3(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.205 leader 3 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.205 leader 3 replicate peer 2: [{1 100}]
 peer 1 true!!!!!!!
match index: [0 2 0 0 2]
next index: [1 2 1 1 2]
peer 0 true!!!!!!!
match index: [2 2 0 0 2]
next index: [2 2 1 1 2]
peer 2 true!!!!!!!
match index: [2 2 2 0 2]
next index: [2 2 2 1 2]
2018/12/14/ 10:10:11.206 leader 3 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.206 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.233 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.233 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.233 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.234 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.234 peer 2 in leader 3(last log index 1) nextIndex 2
peer 0 applied: 100
peer 4 applied: 100
peer 3 applied: 100
peer 2 applied: 100
peer 1 applied: 100
2018/12/14/ 10:10:11.264 peer 4 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.264 peer 1 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.264 peer 0 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.264 peer 3 in leader 3(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.264 peer 2 in leader 3(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.294 peer 1 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.294 peer 3 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.294 peer 0 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.295 leader 3 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.295 leader 3 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.295 leader 3 replicate peer 3: []
 2018/12/14/ 10:10:11.295 leader 3 replicate peer 1: [{1 200}]
 peer 3 true!!!!!!!
match index: [2 2 2 3 2]
next index: [2 2 2 3 2]
2018/12/14/ 10:10:11.295 peer 4 in leader 3(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.296 leader 3 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.296 leader 3 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.295 leader 3 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.296 leader 3 replicate peer 0: [{1 200}]
 2018/12/14/ 10:10:11.296 peer 2 in leader 3(last log index 2) nextIndex 2
peer 1 true!!!!!!!
2018/12/14/ 10:10:11.297 leader 3 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.297 leader 3 replicate peer 2: [{1 200}]
 match index: [2 3 2 3 2]
next index: [2 3 2 3 2]
peer 4 true!!!!!!!
match index: [2 3 2 3 3]
next index: [2 3 2 3 3]
peer 0 true!!!!!!!
match index: [3 3 2 3 3]
next index: [3 3 2 3 3]
peer 2 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
peer 3 applied: 200
peer 1 applied: 200
peer 4 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.324 peer 1 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.324 peer 4 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.324 peer 3 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.324 peer 2 in leader 3(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.325 peer 0 in leader 3(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.354 peer 1 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.355 leader 3 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.355 leader 3 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.355 peer 4 in leader 3(last log index 3) nextIndex 3
peer 1 true!!!!!!!
match index: [3 4 3 3 3]
next index: [3 4 3 3 3]
2018/12/14/ 10:10:11.356 peer 2 in leader 3(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.356 leader 3 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.356 leader 3 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.356 leader 3 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.356 leader 3 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.356 peer 3 in leader 3(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 4 3 3 4]
next index: [3 4 3 3 4]
2018/12/14/ 10:10:11.356 peer 0 in leader 3(last log index 3) nextIndex 3
peer 2 true!!!!!!!
match index: [3 4 4 3 4]
next index: [3 4 4 3 4]
2018/12/14/ 10:10:11.357 leader 3 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.357 leader 3 replicate peer 0: [{1 300}]
 2018/12/14/ 10:10:11.357 leader 3 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.357 leader 3 replicate peer 3: []
 peer 3 true!!!!!!!
match index: [3 4 4 4 4]
next index: [3 4 4 4 4]
peer 0 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
peer 4 applied: 300
peer 3 applied: 300
peer 1 applied: 300
peer 2 applied: 300
  ... Passed --   0.6  5   35    3
PASS
ok  	raft	0.655s
=======================
last heard time 1544753513173, timeout 360
last heard time 1544753513174, timeout 463
last heard time 1544753513174, timeout 409
last heard time 1544753513174, timeout 369
last heard time 1544753513174, timeout 437
Test (2B): basic agreement ...
2018/12/14/ 10:10:11.538 peer 0 starts election
2018/12/14/ 10:10:11.542 peer 4(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.543 peer 3(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.543 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.544 peer 0 becomes leader
start hb
2018/12/14/ 10:10:11.544 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:11.544 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.544 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.545 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.545 peer 2 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.545 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.574 peer 4 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.574 peer 3 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.575 peer 1 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.575 peer 0 in leader 0(last log index 0) nextIndex 1
2018/12/14/ 10:10:11.575 peer 2 in leader 0(last log index 0) nextIndex 1
[{0 0} {1 100}]
2018/12/14/ 10:10:11.605 peer 0 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.606 peer 4 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.606 leader 0 replicate send 0: [{1 100}]
 2018/12/14/ 10:10:11.606 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:11.606 peer 2 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.606 leader 0 replicate send 4: [{1 100}]
 2018/12/14/ 10:10:11.606 leader 0 replicate peer 4: [{1 100}]
 peer 0 true!!!!!!!
match index: [2 0 0 0 0]
next index: [2 1 1 1 1]
2018/12/14/ 10:10:11.607 peer 3 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.607 leader 0 replicate send 2: [{1 100}]
 2018/12/14/ 10:10:11.607 leader 0 replicate peer 2: [{1 100}]
 2018/12/14/ 10:10:11.607 peer 1 in leader 0(last log index 1) nextIndex 1
2018/12/14/ 10:10:11.607 leader 0 replicate send 3: [{1 100}]
 2018/12/14/ 10:10:11.607 leader 0 replicate peer 3: [{1 100}]
 peer 4 true!!!!!!!
match index: [2 0 0 0 2]
2018/12/14/ 10:10:11.608 leader 0 replicate send 1: [{1 100}]
 2018/12/14/ 10:10:11.608 leader 0 replicate peer 1: [{1 100}]
 next index: [2 1 1 1 2]
peer 2 true!!!!!!!
match index: [2 0 2 0 2]
next index: [2 1 2 1 2]
peer 3 true!!!!!!!
match index: [2 0 2 2 2]
next index: [2 1 2 2 2]
peer 1 true!!!!!!!
match index: [2 2 2 2 2]
next index: [2 2 2 2 2]
2018/12/14/ 10:10:11.636 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.636 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.636 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.636 peer 0 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.636 peer 3 in leader 0(last log index 1) nextIndex 2
peer 4 applied: 100
peer 0 applied: 100
peer 1 applied: 100
peer 3 applied: 100
peer 2 applied: 100
2018/12/14/ 10:10:11.666 peer 1 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.666 peer 4 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.666 peer 2 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.666 peer 3 in leader 0(last log index 1) nextIndex 2
2018/12/14/ 10:10:11.667 peer 0 in leader 0(last log index 1) nextIndex 2
[{0 0} {1 100} {1 200}]
2018/12/14/ 10:10:11.696 peer 0 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.697 peer 4 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.697 leader 0 replicate send 0: [{1 200}]
 2018/12/14/ 10:10:11.697 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:11.698 peer 1 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.698 leader 0 replicate send 4: [{1 200}]
 2018/12/14/ 10:10:11.698 leader 0 replicate peer 4: [{1 200}]
 2018/12/14/ 10:10:11.698 peer 2 in leader 0(last log index 2) nextIndex 2
2018/12/14/ 10:10:11.698 leader 0 replicate send 1: [{1 200}]
 2018/12/14/ 10:10:11.698 leader 0 replicate peer 1: [{1 200}]
 2018/12/14/ 10:10:11.699 peer 3 in leader 0(last log index 2) nextIndex 2
peer 1 true!!!!!!!
match index: [2 3 2 2 2]
next index: [2 3 2 2 2]
peer 0 true!!!!!!!
match index: [3 3 2 2 2]
next index: [3 3 2 2 2]
peer 4 true!!!!!!!
match index: [3 3 2 2 3]
2018/12/14/ 10:10:11.699 leader 0 replicate send 3: [{1 200}]
 2018/12/14/ 10:10:11.699 leader 0 replicate peer 3: [{1 200}]
 next index: [3 3 2 2 3]
peer 3 true!!!!!!!
match index: [3 3 2 3 3]
next index: [3 3 2 3 3]
2018/12/14/ 10:10:11.699 leader 0 replicate send 2: [{1 200}]
 2018/12/14/ 10:10:11.700 leader 0 replicate peer 2: [{1 200}]
 peer 2 true!!!!!!!
match index: [3 3 3 3 3]
next index: [3 3 3 3 3]
peer 0 applied: 200
2018/12/14/ 10:10:11.727 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.727 peer 2 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.727 peer 1 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.727 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.727 peer 3 in leader 0(last log index 2) nextIndex 3
peer 4 applied: 200
peer 3 applied: 200
peer 1 applied: 200
peer 2 applied: 200
2018/12/14/ 10:10:11.757 peer 4 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.757 peer 0 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.757 peer 3 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.757 peer 2 in leader 0(last log index 2) nextIndex 3
2018/12/14/ 10:10:11.757 peer 1 in leader 0(last log index 2) nextIndex 3
[{0 0} {1 100} {1 200} {1 300}]
2018/12/14/ 10:10:11.788 peer 4 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.788 peer 1 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.788 peer 3 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.788 leader 0 replicate send 4: [{1 300}]
 2018/12/14/ 10:10:11.788 leader 0 replicate peer 4: [{1 300}]
 2018/12/14/ 10:10:11.788 peer 2 in leader 0(last log index 3) nextIndex 3
peer 4 true!!!!!!!
match index: [3 3 3 3 4]
next index: [3 3 3 3 4]
2018/12/14/ 10:10:11.789 peer 0 in leader 0(last log index 3) nextIndex 3
2018/12/14/ 10:10:11.789 leader 0 replicate send 2: [{1 300}]
 2018/12/14/ 10:10:11.789 leader 0 replicate peer 2: [{1 300}]
 2018/12/14/ 10:10:11.789 leader 0 replicate send 3: [{1 300}]
 2018/12/14/ 10:10:11.789 leader 0 replicate peer 3: [{1 300}]
 2018/12/14/ 10:10:11.789 leader 0 replicate send 1: [{1 300}]
 2018/12/14/ 10:10:11.790 leader 0 replicate peer 1: [{1 300}]
 2018/12/14/ 10:10:11.789 leader 0 replicate send 0: [{1 300}]
 2018/12/14/ 10:10:11.790 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 3 3 3 4]
next index: [4 3 3 3 4]
peer 2 true!!!!!!!
match index: [4 3 4 3 4]
next index: [4 3 4 3 4]
peer 3 true!!!!!!!
match index: [4 3 4 4 4]
next index: [4 3 4 4 4]
peer 1 true!!!!!!!
match index: [4 4 4 4 4]
next index: [4 4 4 4 4]
peer 0 applied: 300
2018/12/14/ 10:10:11.818 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.818 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.818 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.818 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.818 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.848 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.848 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.848 peer 3 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.848 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.849 peer 1 in leader 0(last log index 3) nextIndex 4
peer 3 applied: 300
peer 1 applied: 300
peer 4 applied: 300
peer 2 applied: 300
2018/12/14/ 10:10:11.878 peer 0 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.879 peer 4 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.879 peer 2 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.879 peer 1 in leader 0(last log index 3) nextIndex 4
2018/12/14/ 10:10:11.879 peer 3 in leader 0(last log index 3) nextIndex 4
  ... Passed --   0.7  5   35    3
PASS
ok  	raft	0.726s
=======================
