last heard time 1544754802304, timeout 493
last heard time 1544754802305, timeout 365
last heard time 1544754802305, timeout 381
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:33.679 peer 1 starts election
2018/12/14/ 10:10:33.683 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:33.683 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:33.683 peer 1 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:33.715 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.715 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:33.716 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.718 leader 1 replicate peer 0: [{1 101}]
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
2018/12/14/ 10:10:33.716 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.718 leader 1 replicate peer 2: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 0 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:33.323 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:33.323 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:33.324 leader 1 replicate send 0: [{1 102}]
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
2018/12/14/ 10:10:33.324 leader 1 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 1 applied: 102
peer 0 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:33.415 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:33.416 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [2 3 1]
next index: [3 4 2]
2018/12/14/ 10:10:33.415 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.416 leader 1 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:33.666 peer 2 starts election
2018/12/14/ 10:10:33.105 peer 2 starts election
2018/12/14/ 10:10:33.483 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:33.512 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.512 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:33.512 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:33.513 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [4 3 1]
next index: [5 4 2]
peer 1 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 1 applied: 104
peer 0 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:33.632 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.633 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [4 5 1]
next index: [5 6 2]
2018/12/14/ 10:10:33.633 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.633 leader 1 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 1 applied: 105
peer 0 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:33.724 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:33.724 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [5 6 1]
next index: [6 7 2]
2018/12/14/ 10:10:33.724 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.724 leader 1 replicate peer 0: [{1 106}]
 peer 2 false!!!!!!!
leader 1 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 6 1]
next index: [7 7 2]
leader 1 return !!!
2018/12/14/ 10:10:33.100 peer 2 starts election
2018/12/14/ 10:10:33.100 peer 0(votedFor 1) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:33.101 peer 1(votedFor 1) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:33.138 peer 0 starts election
2018/12/14/ 10:10:33.139 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:33.139 peer 0 becomes leader
2018/12/14/ 10:10:33.139 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:33.140 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.140 leader 0 replicate peer 2: []
 start hb
peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:33.141 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.141 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.140 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.141 leader 0 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:33.170 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:33.171 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:33.172 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:33.172 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:33.172 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:33.172 leader 0 replicate peer 2: [{1 102}]
 peer 1 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 2 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 2 applied: 102
2018/12/14/ 10:10:33.201 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:33.201 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.201 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.201 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:33.201 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:33.201 leader 0 replicate peer 2: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 2 2]
next index: [4 3 3]
peer 2 true!!!!!!!
match index: [3 2 3]
next index: [4 3 4]
peer 1 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 2 applied: 103
2018/12/14/ 10:10:33.231 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:33.231 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:33.231 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.232 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [3 4 3]
next index: [4 5 4]
2018/12/14/ 10:10:33.231 leader 0 replicate send 2: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 4 3]
next index: [5 5 4]
2018/12/14/ 10:10:33.232 leader 0 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 2 applied: 104
2018/12/14/ 10:10:33.262 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.262 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:33.262 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.262 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
2018/12/14/ 10:10:33.262 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:33.263 leader 0 replicate peer 2: [{1 105}]
 match index: [5 4 4]
next index: [6 5 5]
peer 1 true!!!!!!!
match index: [5 5 4]
next index: [6 6 5]
peer 2 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 2 applied: 105
2018/12/14/ 10:10:33.292 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:33.292 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:33.292 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:33.292 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:33.292 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.292 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [6 5 5]
next index: [7 6 6]
peer 2 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:33.724 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:33.724 leader 0 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:33.725 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:33.725 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:33.725 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:33.725 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
peer 1 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 1 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:33.912 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:33.912 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:33.912 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:33.913 leader 0 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:33.912 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:33.913 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 1 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 1 applied: 107
peer 2 applied: 107
  ... Passed --   5.7  3  196    8
PASS
ok  	raft	5.694s
=======================
last heard time 1544754809716, timeout 380
last heard time 1544754809717, timeout 401
last heard time 1544754809717, timeout 495
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:33.103 peer 0 starts election
2018/12/14/ 10:10:33.107 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:33.107 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:33.107 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:33.139 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.139 leader 0 replicate peer 2: [{1 101}]
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:33.139 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.139 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:33.140 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.140 leader 0 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:33.778 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:33.778 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:33.778 leader 0 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:33.778 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:33.870 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.870 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.870 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:33.870 leader 0 replicate peer 2: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:33.190 peer 1 starts election
2018/12/14/ 10:10:33.577 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:33.967 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.967 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.967 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:33.967 leader 0 replicate peer 2: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
2018/12/14/ 10:10:33.985 peer 1 starts election
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:33.058 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.058 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.058 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:33.058 leader 0 replicate peer 2: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:33.149 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.149 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.150 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:33.150 leader 0 replicate peer 2: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 1 5]
next index: [7 2 6]
peer 2 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
leader 0 return !!!
2018/12/14/ 10:10:33.539 peer 1 starts election
2018/12/14/ 10:10:33.540 peer 2(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:33.540 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:33.579 peer 0 starts election
2018/12/14/ 10:10:33.580 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:33.580 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:33.581 peer 0 becomes leader
start hb
2018/12/14/ 10:10:33.582 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:33.582 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:33.612 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:33.612 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:33.642 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:33.642 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:33.673 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.673 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:33.703 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:33.703 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:33.165 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:33.165 leader 0 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:33.166 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:33.166 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:33.166 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:33.166 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 2 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:33.353 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:33.353 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:33.353 leader 0 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:33.353 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:33.354 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:33.354 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 1 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 1 applied: 107
peer 2 applied: 107
  ... Passed --   5.7  3  182    8
PASS
ok  	raft	5.726s
=======================
last heard time 1544754817388, timeout 384
last heard time 1544754817389, timeout 399
last heard time 1544754817389, timeout 411
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:33.775 peer 0 starts election
2018/12/14/ 10:10:33.779 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:33.779 peer 0 becomes leader
start hb
2018/12/14/ 10:10:33.780 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
[{0 0} {1 101}]
2018/12/14/ 10:10:33.810 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.811 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:33.811 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.811 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:33.812 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.812 leader 0 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 2 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:33.449 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:33.449 leader 0 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:33.449 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:33.449 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:33.540 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:33.540 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:33.540 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.540 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 1 3]
next index: [3 2 4]
peer 0 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:33.873 peer 1 starts election
2018/12/14/ 10:10:33.238 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:33.632 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:33.632 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:33.632 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.633 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 1 4]
next index: [4 2 5]
peer 0 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:33.723 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.723 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.723 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:33.724 leader 0 replicate peer 2: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
2018/12/14/ 10:10:33.738 peer 1 starts election
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:33.815 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:33.815 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:33.815 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.815 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [6 1 5]
next index: [7 2 6]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 2 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:33.250 peer 2 starts election
2018/12/14/ 10:10:33.251 peer 1(votedFor 1) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:33.251 peer 0(votedFor 0) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:33.261 peer 1 starts election
2018/12/14/ 10:10:33.261 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:33.261 peer 2(votedFor 2) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:33.278 peer 0 starts election
2018/12/14/ 10:10:33.279 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:33.279 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:33.279 peer 0 becomes leader
start hb
2018/12/14/ 10:10:33.280 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:33.280 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:33.310 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:33.311 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:33.341 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:33.341 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:33.371 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.371 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:33.401 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:33.401 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:33.832 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:33.832 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:33.832 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:33.833 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 1 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
2018/12/14/ 10:10:33.832 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:33.833 leader 0 replicate peer 2: [{6 106}]
 peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:33.961 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:33.961 leader 0 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:33.961 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:33.962 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:33.962 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:33.962 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 1 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 0 applied: 107
peer 1 applied: 107
  ... Passed --   5.6  3  182    8
PASS
ok  	raft	5.666s
=======================
last heard time 1544754824972, timeout 381
last heard time 1544754824972, timeout 434
last heard time 1544754824972, timeout 472
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:33.359 peer 0 starts election
2018/12/14/ 10:10:33.363 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:33.363 peer 0 becomes leader
2018/12/14/ 10:10:33.363 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:33.395 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.395 leader 0 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:33.395 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.396 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
2018/12/14/ 10:10:33.395 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.396 leader 0 replicate peer 2: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:33.974 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:33.974 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:33.975 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:33.975 leader 0 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:33.096 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.096 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:33.096 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:33.096 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 1 3]
next index: [3 2 4]
peer 0 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:33.333 peer 1 starts election
2018/12/14/ 10:10:33.825 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:33.223 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.224 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
2018/12/14/ 10:10:33.224 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:33.224 leader 0 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
2018/12/14/ 10:10:33.286 peer 1 starts election
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:33.315 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.315 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:33.316 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:33.316 leader 0 replicate peer 2: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:33.406 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:33.406 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.406 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [6 1 5]
next index: [7 2 6]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
2018/12/14/ 10:10:33.406 leader 0 replicate peer 2: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:33.821 peer 1 starts election
2018/12/14/ 10:10:33.821 peer 2(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:33.821 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:33.873 peer 2 starts election
2018/12/14/ 10:10:33.874 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:33.874 peer 2 becomes leader
2018/12/14/ 10:10:33.874 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:33.875 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.875 leader 2 replicate peer 2: []
 start hb
2018/12/14/ 10:10:33.875 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.875 leader 2 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:33.875 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.876 leader 2 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:33.906 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:33.906 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:33.906 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:33.906 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
2018/12/14/ 10:10:33.906 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:33.907 leader 2 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 1 applied: 102
2018/12/14/ 10:10:33.936 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:33.936 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.937 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:33.936 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:33.936 leader 2 replicate send 1: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 2 2]
next index: [4 3 3]
peer 2 true!!!!!!!
match index: [3 2 3]
next index: [4 3 4]
2018/12/14/ 10:10:33.937 leader 2 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 1 applied: 103
2018/12/14/ 10:10:33.967 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:33.967 leader 2 replicate peer 1: [{1 104}]
 2018/12/14/ 10:10:33.967 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.968 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:33.967 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:33.968 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [3 3 4]
next index: [4 4 5]
peer 1 true!!!!!!!
match index: [3 4 4]
next index: [4 5 5]
peer 0 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 1 applied: 104
2018/12/14/ 10:10:33.997 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:33.997 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:33.998 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.998 leader 2 replicate peer 1: [{1 105}]
 peer 2 true!!!!!!!
match index: [4 4 5]
next index: [5 5 6]
2018/12/14/ 10:10:33.998 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.998 leader 2 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [4 5 5]
next index: [5 6 6]
peer 0 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 1 applied: 105
2018/12/14/ 10:10:33.028 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.028 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:33.028 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:33.028 leader 2 replicate peer 1: [{1 106}]
 2018/12/14/ 10:10:33.029 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:33.029 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [5 5 6]
next index: [6 6 7]
peer 1 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:33.429 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:33.429 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
2018/12/14/ 10:10:33.429 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:33.430 leader 2 replicate peer 0: [{6 106}]
 peer 0 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
2018/12/14/ 10:10:33.429 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:33.430 leader 2 replicate peer 1: [{6 106}]
 peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:33.555 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:33.555 leader 2 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:33.555 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:33.555 leader 2 replicate peer 0: [{6 107}]
 2018/12/14/ 10:10:33.555 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:33.556 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
peer 0 true!!!!!!!
match index: [8 8 7]
next index: [9 9 8]
peer 2 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.6  3  195    8
PASS
ok  	raft	5.655s
=======================
last heard time 1544754832445, timeout 443
last heard time 1544754832446, timeout 371
last heard time 1544754832446, timeout 394
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:33.822 peer 1 starts election
2018/12/14/ 10:10:33.826 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:33.827 peer 1 becomes leader
2018/12/14/ 10:10:33.826 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:33.858 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:33.858 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
2018/12/14/ 10:10:33.858 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:33.859 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:33.859 leader 1 replicate peer 0: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
2018/12/14/ 10:10:33.859 leader 1 replicate peer 2: [{1 101}]
 peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 2 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:33.435 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:33.435 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:33.435 leader 1 replicate send 0: [{1 102}]
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
2018/12/14/ 10:10:33.435 leader 1 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 1 applied: 102
peer 0 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:33.557 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:33.557 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:33.557 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:33.557 leader 1 replicate peer 0: [{1 103}]
 peer 1 true!!!!!!!
match index: [2 3 1]
next index: [3 4 2]
peer 0 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:33.753 peer 2 starts election
2018/12/14/ 10:10:33.163 peer 2 starts election
2018/12/14/ 10:10:33.603 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:33.651 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:33.651 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:33.651 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:33.651 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [4 3 1]
next index: [5 4 2]
peer 1 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 1 applied: 104
peer 0 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:33.772 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:33.772 leader 1 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 4 1]
next index: [6 5 2]
2018/12/14/ 10:10:33.772 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.772 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 1 applied: 105
peer 0 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
peer 2 false!!!!!!!
leader 1 becomes follower in replicate
2018/12/14/ 10:10:33.894 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:33.894 leader 1 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 5 1]
next index: [7 6 2]
peer 1 false!!!!!!!
match index: [6 5 1]
next index: [7 5 2]
leader 1 return !!!
2018/12/14/ 10:10:33.264 peer 1 starts election
2018/12/14/ 10:10:33.265 peer 2(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:33.265 peer 0(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:33.265 peer 1 becomes leader
start hb
2018/12/14/ 10:10:33.266 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:33.267 leader 1 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:33.266 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:33.267 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [6 5 2]
next index: [7 5 3]
peer 1 true!!!!!!!
match index: [6 6 2]
next index: [7 6 3]
peer 2 applied: 102
2018/12/14/ 10:10:33.297 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:33.297 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:33.297 leader 1 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:33.297 leader 1 replicate peer 2: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 7 2]
next index: [7 7 3]
peer 2 true!!!!!!!
match index: [6 7 3]
next index: [7 7 4]
peer 2 applied: 103
2018/12/14/ 10:10:33.327 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:33.327 leader 1 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [6 7 4]
next index: [7 7 5]
peer 2 applied: 104
2018/12/14/ 10:10:33.358 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:33.358 leader 1 replicate peer 2: [{1 105}]
 peer 2 true!!!!!!!
match index: [6 7 5]
next index: [7 7 6]
peer 2 applied: 105
2018/12/14/ 10:10:33.388 leader 1 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:33.389 leader 1 replicate peer 2: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 7 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:33.878 leader 1 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:33.878 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:33.878 leader 1 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:33.879 leader 1 replicate peer 0: [{5 106}]
 peer 1 true!!!!!!!
match index: [6 8 6]
next index: [7 8 7]
peer 0 true!!!!!!!
match index: [7 8 6]
next index: [8 8 7]
2018/12/14/ 10:10:33.878 leader 1 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:33.879 leader 1 replicate peer 2: [{5 106}]
 peer 2 true!!!!!!!
match index: [7 8 7]
next index: [8 8 8]
peer 1 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 2 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:33.037 leader 1 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:33.037 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [7 9 7]
next index: [8 9 8]
2018/12/14/ 10:10:33.037 leader 1 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:33.037 leader 1 replicate peer 2: [{5 107}]
 peer 2 true!!!!!!!
match index: [7 9 8]
next index: [8 9 9]
2018/12/14/ 10:10:33.037 leader 1 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:33.038 leader 1 replicate peer 0: [{5 107}]
 peer 0 true!!!!!!!
match index: [8 9 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.7  3  185    8
PASS
ok  	raft	5.692s
=======================
last heard time 1544754839950, timeout 430
last heard time 1544754839951, timeout 385
last heard time 1544754839951, timeout 465
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.338 peer 1 starts election
2018/12/14/ 10:10:34.342 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:34.342 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:34.342 peer 1 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.373 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.374 leader 1 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:34.374 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.374 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.374 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.374 leader 1 replicate peer 0: [{1 101}]
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 2 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.012 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.012 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.012 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.013 leader 1 replicate peer 0: [{1 102}]
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
peer 0 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 1 applied: 102
peer 0 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.104 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.104 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:34.105 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.105 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [3 2 1]
next index: [4 3 2]
peer 1 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:34.351 peer 2 starts election
2018/12/14/ 10:10:34.856 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.203 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.203 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:34.203 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.203 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [4 3 1]
next index: [5 4 2]
peer 1 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 1 applied: 104
peer 0 applied: 104
2018/12/14/ 10:10:34.267 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.295 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.295 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.295 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.295 leader 1 replicate peer 0: [{1 105}]
 peer 1 true!!!!!!!
match index: [4 5 1]
next index: [5 6 2]
peer 0 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 1 applied: 105
peer 0 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.386 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.387 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.387 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.387 leader 1 replicate peer 0: [{1 106}]
 peer 2 false!!!!!!!
leader 1 becomes follower in replicate
peer 1 true!!!!!!!
match index: [5 6 1]
next index: [6 7 2]
peer 0 true!!!!!!!
match index: [6 6 1]
next index: [7 7 2]
leader 1 return !!!
2018/12/14/ 10:10:34.781 peer 2 starts election
2018/12/14/ 10:10:34.782 peer 1(votedFor 1) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:34.782 peer 0(votedFor 1) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:34.815 peer 0 starts election
2018/12/14/ 10:10:34.816 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:34.816 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:34.816 peer 0 becomes leader
start hb
2018/12/14/ 10:10:34.817 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.817 leader 0 replicate peer 2: []
 2018/12/14/ 10:10:34.817 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.818 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:34.818 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.818 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:34.847 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.848 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.847 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.848 leader 0 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:34.848 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.848 leader 0 replicate peer 2: [{1 102}]
 peer 1 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 2 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 2 applied: 102
2018/12/14/ 10:10:34.878 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.878 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:34.878 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.878 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:34.878 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.878 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [2 3 2]
next index: [3 4 3]
peer 2 true!!!!!!!
match index: [2 3 3]
next index: [3 4 4]
peer 0 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 2 applied: 103
2018/12/14/ 10:10:34.908 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.908 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:34.908 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.908 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.909 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.909 leader 0 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [3 3 4]
next index: [4 4 5]
peer 0 true!!!!!!!
match index: [4 3 4]
next index: [5 4 5]
peer 1 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 2 applied: 104
2018/12/14/ 10:10:34.939 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.939 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.939 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:34.939 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:34.939 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.939 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 4 5]
next index: [5 5 6]
peer 1 true!!!!!!!
match index: [4 5 5]
next index: [5 6 6]
peer 0 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 2 applied: 105
2018/12/14/ 10:10:34.969 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.969 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.969 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.970 leader 0 replicate peer 1: []
 2018/12/14/ 10:10:34.969 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.970 leader 0 replicate peer 2: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 5 5]
next index: [7 6 6]
peer 1 true!!!!!!!
match index: [6 6 5]
next index: [7 7 6]
peer 2 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:34.369 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:34.369 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:34.369 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:34.369 leader 0 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:34.369 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:34.369 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 2 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 1 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:34.492 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:34.492 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:34.492 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:34.493 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
2018/12/14/ 10:10:34.492 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:34.493 leader 0 replicate peer 1: [{6 107}]
 peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 0 applied: 107
peer 2 applied: 107
  ... Passed --   5.6  3  193    8
PASS
ok  	raft	5.636s
=======================
last heard time 1544754847350, timeout 421
last heard time 1544754847350, timeout 485
last heard time 1544754847351, timeout 461
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.778 peer 0 starts election
2018/12/14/ 10:10:34.782 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:34.782 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:34.782 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.813 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.814 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.814 leader 0 replicate send 2: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
2018/12/14/ 10:10:34.814 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:34.814 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.814 leader 0 replicate peer 1: [{1 101}]
 peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.423 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.423 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:34.423 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.424 leader 0 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.545 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.545 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:34.545 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.545 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 2 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:34.828 peer 1 starts election
2018/12/14/ 10:10:34.257 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.641 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.642 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.642 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.642 leader 0 replicate peer 2: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 2 applied: 104
peer 0 applied: 104
2018/12/14/ 10:10:34.707 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.732 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.732 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
2018/12/14/ 10:10:34.732 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.732 leader 0 replicate peer 2: [{1 105}]
 peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.854 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.854 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:34.854 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.854 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
leader 0 return !!!
2018/12/14/ 10:10:34.231 peer 2 starts election
2018/12/14/ 10:10:34.232 peer 1(votedFor 1) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:34.232 peer 0(votedFor 0) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:34.263 peer 0 starts election
2018/12/14/ 10:10:34.263 peer 2(votedFor 0) current term 5 vote peer 0 current term 5: true
2018/12/14/ 10:10:34.264 peer 1(votedFor 0) current term 5 vote peer 0 current term 5: true
2018/12/14/ 10:10:34.264 peer 0 becomes leader
start hb
2018/12/14/ 10:10:34.265 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.265 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:34.295 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.295 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:34.326 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.326 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:34.357 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.357 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:34.387 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.387 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:34.848 leader 0 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:34.848 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.848 leader 0 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:34.848 leader 0 replicate peer 1: [{5 106}]
 2018/12/14/ 10:10:34.849 leader 0 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:34.849 leader 0 replicate peer 2: [{5 106}]
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 1 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:34.037 leader 0 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:34.038 leader 0 replicate peer 2: [{5 107}]
 2018/12/14/ 10:10:34.038 leader 0 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:34.038 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.037 leader 0 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:34.038 leader 0 replicate peer 1: [{5 107}]
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.8  3  184    8
PASS
ok  	raft	5.776s
=======================
last heard time 1544754855002, timeout 441
last heard time 1544754855002, timeout 424
last heard time 1544754855003, timeout 364
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.368 peer 2 starts election
2018/12/14/ 10:10:34.372 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:34.372 peer 2 becomes leader
2018/12/14/ 10:10:34.372 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.435 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.435 leader 2 replicate peer 0: [{1 101}]
 2018/12/14/ 10:10:34.435 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.435 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.435 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.436 leader 2 replicate peer 1: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.012 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.012 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:34.012 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.013 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.134 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.134 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.134 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.134 leader 2 replicate peer 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 1 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:34.352 peer 0 starts election
2018/12/14/ 10:10:34.814 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.228 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.228 leader 2 replicate peer 1: [{1 104}]
 2018/12/14/ 10:10:34.229 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.229 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 4 3]
next index: [2 5 4]
peer 2 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
2018/12/14/ 10:10:34.275 peer 0 starts election
peer 1 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.320 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.320 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:34.320 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.320 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 5 4]
next index: [2 6 5]
peer 2 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.442 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.442 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.442 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.442 leader 2 replicate peer 1: [{1 106}]
 peer 2 true!!!!!!!
match index: [1 5 6]
next index: [2 6 7]
peer 1 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
peer 0 false!!!!!!!
leader 2 becomes follower in replicate
leader 2 return !!!
2018/12/14/ 10:10:34.874 peer 1 starts election
2018/12/14/ 10:10:34.875 peer 0(votedFor 0) current term 4 vote peer 1 current term 2: false
2018/12/14/ 10:10:34.875 peer 2(votedFor 2) current term 4 vote peer 1 current term 2: false
2018/12/14/ 10:10:34.884 peer 0 starts election
2018/12/14/ 10:10:34.884 peer 2 starts election
2018/12/14/ 10:10:34.885 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:34.885 peer 1(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:34.885 peer 0(votedFor 0) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:34.885 peer 1(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:34.886 peer 2 becomes leader
start hb
2018/12/14/ 10:10:34.887 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.887 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:34.917 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.917 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:34.947 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.948 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:34.978 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.978 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:34.008 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.008 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:34.440 leader 2 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:34.440 leader 2 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:34.440 leader 2 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:34.440 leader 2 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:34.440 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.440 leader 2 replicate peer 1: [{5 106}]
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 2 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:34.568 leader 2 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:34.568 leader 2 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:34.568 leader 2 replicate peer 1: [{5 107}]
 2018/12/14/ 10:10:34.568 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.568 leader 2 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:34.569 leader 2 replicate peer 0: [{5 107}]
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
peer 2 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 0 applied: 107
peer 2 applied: 107
  ... Passed --   5.6  3  184    8
PASS
ok  	raft	5.629s
=======================
last heard time 1544754862428, timeout 479
last heard time 1544754862429, timeout 407
last heard time 1544754862429, timeout 435
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.837 peer 1 starts election
2018/12/14/ 10:10:34.840 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:34.840 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:34.841 peer 1 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.903 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.903 leader 1 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:34.903 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.903 leader 1 replicate peer 0: [{1 101}]
 2018/12/14/ 10:10:34.903 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.904 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
peer 2 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 1 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.451 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.451 leader 1 replicate peer 0: [{1 102}]
 2018/12/14/ 10:10:34.451 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.451 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
peer 1 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 1 applied: 102
peer 0 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.572 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.572 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:34.573 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.573 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [2 3 1]
next index: [3 4 2]
peer 0 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:34.765 peer 2 starts election
2018/12/14/ 10:10:34.236 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.696 peer 2 starts election
2018/12/14/ 10:10:34.698 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.698 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.698 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.698 leader 1 replicate peer 0: [{1 104}]
 peer 1 true!!!!!!!
match index: [3 4 1]
next index: [4 5 2]
peer 0 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 1 applied: 104
peer 0 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.819 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.820 leader 1 replicate peer 0: [{1 105}]
 2018/12/14/ 10:10:34.820 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.820 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [5 4 1]
next index: [6 5 2]
peer 1 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 0 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.880 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.880 leader 1 replicate peer 0: [{1 106}]
 2018/12/14/ 10:10:34.880 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.880 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [6 5 1]
next index: [7 6 2]
peer 1 true!!!!!!!
match index: [6 6 1]
next index: [7 7 2]
peer 2 false!!!!!!!
leader 1 becomes follower in replicate
leader 1 return !!!
2018/12/14/ 10:10:34.341 peer 1 starts election
2018/12/14/ 10:10:34.342 peer 0(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:34.342 peer 2(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:34.342 peer 1 becomes leader
start hb
2018/12/14/ 10:10:34.343 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.343 leader 1 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [6 6 2]
next index: [7 7 3]
peer 2 applied: 102
2018/12/14/ 10:10:34.373 leader 1 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.373 leader 1 replicate peer 2: [{1 103}]
 peer 2 true!!!!!!!
match index: [6 6 3]
next index: [7 7 4]
peer 2 applied: 103
2018/12/14/ 10:10:34.403 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.404 leader 1 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [6 6 4]
next index: [7 7 5]
peer 2 applied: 104
2018/12/14/ 10:10:34.434 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.434 leader 1 replicate peer 2: [{1 105}]
 peer 2 true!!!!!!!
match index: [6 6 5]
next index: [7 7 6]
peer 2 applied: 105
2018/12/14/ 10:10:34.464 leader 1 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.464 leader 1 replicate peer 2: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:34.895 leader 1 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:34.895 leader 1 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:34.895 leader 1 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:34.895 leader 1 replicate peer 2: [{5 106}]
 2018/12/14/ 10:10:34.895 leader 1 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:34.895 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
peer 0 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 1 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:34.021 leader 1 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:34.021 leader 1 replicate peer 2: [{5 107}]
 2018/12/14/ 10:10:34.021 leader 1 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:34.021 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
peer 2 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
2018/12/14/ 10:10:34.021 leader 1 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:34.022 leader 1 replicate peer 0: [{5 107}]
 peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.6  3  180    8
PASS
ok  	raft	5.650s
=======================
last heard time 1544754870107, timeout 409
last heard time 1544754870107, timeout 498
last heard time 1544754870108, timeout 450
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.524 peer 0 starts election
2018/12/14/ 10:10:34.528 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:34.528 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:34.528 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.590 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.590 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.590 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.590 leader 0 replicate peer 2: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:34.591 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.591 leader 0 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.138 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.138 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:34.138 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.139 leader 0 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.259 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.259 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.260 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:34.259 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 1 3]
next index: [3 2 4]
peer 0 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:34.528 peer 1 starts election
2018/12/14/ 10:10:34.955 peer 1 starts election
2018/12/14/ 10:10:34.339 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.385 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.385 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
2018/12/14/ 10:10:34.385 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.386 leader 0 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.476 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.476 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:34.476 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.477 leader 0 replicate peer 2: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.567 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.567 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [6 1 5]
next index: [7 2 6]
2018/12/14/ 10:10:34.567 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.567 leader 0 replicate peer 2: [{1 106}]
 peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 2 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:34.944 peer 1 starts election
2018/12/14/ 10:10:34.944 peer 2(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:34.944 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:34.006 peer 2 starts election
2018/12/14/ 10:10:34.007 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:34.007 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:34.008 peer 2 becomes leader
start hb
2018/12/14/ 10:10:34.008 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.008 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:34.009 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.009 leader 2 replicate peer 1: []
 2018/12/14/ 10:10:34.009 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.009 leader 2 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:34.039 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.039 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:34.039 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.039 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:34.039 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.040 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
peer 1 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 2 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 1 applied: 102
2018/12/14/ 10:10:34.069 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.069 leader 2 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:34.069 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.069 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [2 3 2]
next index: [3 4 3]
2018/12/14/ 10:10:34.069 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.070 leader 2 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 3 3]
next index: [3 4 4]
peer 0 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 1 applied: 103
2018/12/14/ 10:10:34.099 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.100 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:34.100 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.100 leader 2 replicate peer 1: [{1 104}]
 2018/12/14/ 10:10:34.100 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.100 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [4 3 3]
next index: [5 4 4]
peer 1 true!!!!!!!
match index: [4 4 3]
next index: [5 5 4]
peer 2 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 1 applied: 104
2018/12/14/ 10:10:34.130 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.130 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.130 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.130 leader 2 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 4 5]
next index: [5 5 6]
peer 0 true!!!!!!!
match index: [5 4 5]
next index: [6 5 6]
2018/12/14/ 10:10:34.130 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.130 leader 2 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 1 applied: 105
2018/12/14/ 10:10:34.160 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.160 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.160 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.161 leader 2 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 5 6]
next index: [6 6 7]
peer 0 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
2018/12/14/ 10:10:34.160 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.161 leader 2 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:34.562 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:34.562 leader 2 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:34.562 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:34.562 leader 2 replicate peer 0: [{6 106}]
 2018/12/14/ 10:10:34.562 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:34.562 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
peer 1 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:34.687 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:34.687 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.688 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:34.688 leader 2 replicate peer 0: [{6 107}]
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
2018/12/14/ 10:10:34.688 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:34.689 leader 2 replicate peer 1: [{6 107}]
 peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.6  3  195    8
PASS
ok  	raft	5.653s
=======================
last heard time 1544754878075, timeout 482
last heard time 1544754878075, timeout 443
last heard time 1544754878076, timeout 386
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.462 peer 2 starts election
2018/12/14/ 10:10:34.466 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:34.466 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:34.466 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.498 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.498 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:34.498 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.499 leader 2 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
2018/12/14/ 10:10:34.498 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.499 leader 2 replicate peer 0: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 0 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.107 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.107 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:34.107 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.108 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.199 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.199 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.199 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.199 leader 2 replicate peer 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:34.561 peer 0 starts election
2018/12/14/ 10:10:34.959 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.324 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.324 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.324 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.324 leader 2 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [1 4 3]
next index: [2 5 4]
peer 2 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
2018/12/14/ 10:10:34.325 peer 0 starts election
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.414 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.414 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.414 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.415 leader 2 replicate peer 1: [{1 105}]
 peer 2 true!!!!!!!
match index: [1 4 5]
next index: [2 5 6]
peer 1 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.506 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.506 leader 2 replicate peer 1: [{1 106}]
 2018/12/14/ 10:10:34.506 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.506 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 6 5]
next index: [2 7 6]
peer 0 false!!!!!!!
leader 2 becomes follower in replicate
peer 2 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
leader 2 return !!!
2018/12/14/ 10:10:34.867 peer 0 starts election
2018/12/14/ 10:10:34.867 peer 1 starts election
2018/12/14/ 10:10:34.868 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:34.868 peer 2(votedFor 2) current term 5 vote peer 1 current term 2: false
2018/12/14/ 10:10:34.868 peer 0(votedFor 0) current term 5 vote peer 1 current term 2: false
2018/12/14/ 10:10:34.868 peer 1(votedFor 1) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:34.009 peer 2 starts election
2018/12/14/ 10:10:34.009 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:34.009 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:34.009 peer 2 becomes leader
start hb
2018/12/14/ 10:10:34.010 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.010 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:34.040 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.040 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:34.071 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.071 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:34.103 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.103 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:34.133 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.133 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:34.530 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:34.530 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:34.531 leader 2 replicate peer 0: [{6 106}]
 2018/12/14/ 10:10:34.530 leader 2 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:34.530 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:34.531 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 1 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:34.687 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:34.688 leader 2 replicate peer 0: [{6 107}]
 2018/12/14/ 10:10:34.687 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:34.688 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
2018/12/14/ 10:10:34.687 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:34.689 leader 2 replicate peer 1: [{6 107}]
 peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.7  3  183    8
PASS
ok  	raft	5.677s
=======================
last heard time 1544754885457, timeout 489
last heard time 1544754885457, timeout 361
last heard time 1544754885457, timeout 392
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.822 peer 1 starts election
2018/12/14/ 10:10:34.826 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:34.826 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:34.826 peer 1 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.888 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.888 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
2018/12/14/ 10:10:34.888 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.889 leader 1 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:34.888 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:34.889 leader 1 replicate peer 0: [{1 101}]
 peer 2 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 0 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.404 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.404 leader 1 replicate peer 0: [{1 102}]
 2018/12/14/ 10:10:34.404 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.404 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
peer 1 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 1 applied: 102
peer 0 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.587 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.587 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:34.587 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.587 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [3 2 1]
next index: [4 3 2]
peer 1 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:34.785 peer 2 starts election
2018/12/14/ 10:10:34.203 peer 2 starts election
2018/12/14/ 10:10:34.623 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.652 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.652 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:34.652 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.652 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [3 4 1]
next index: [4 5 2]
peer 0 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 1 applied: 104
peer 0 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.773 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.774 leader 1 replicate peer 0: [{1 105}]
 2018/12/14/ 10:10:34.774 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.774 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [5 4 1]
next index: [6 5 2]
peer 1 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 1 applied: 105
peer 0 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.895 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:34.895 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.895 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.896 leader 1 replicate peer 0: [{1 106}]
 peer 1 true!!!!!!!
match index: [5 6 1]
next index: [6 7 2]
peer 0 true!!!!!!!
match index: [6 6 1]
next index: [7 7 2]
peer 2 false!!!!!!!
leader 1 becomes follower in replicate
leader 1 return !!!
2018/12/14/ 10:10:34.305 peer 1 starts election
2018/12/14/ 10:10:34.305 peer 2(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:34.306 peer 1 becomes leader
2018/12/14/ 10:10:34.305 peer 0(votedFor 1) current term 5 vote peer 1 current term 5: true
start hb
2018/12/14/ 10:10:34.306 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.307 leader 1 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [6 6 2]
next index: [7 7 3]
peer 2 applied: 102
2018/12/14/ 10:10:34.337 leader 1 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.337 leader 1 replicate peer 2: [{1 103}]
 peer 2 true!!!!!!!
match index: [6 6 3]
next index: [7 7 4]
peer 2 applied: 103
2018/12/14/ 10:10:34.368 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.368 leader 1 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [6 6 4]
next index: [7 7 5]
peer 2 applied: 104
2018/12/14/ 10:10:34.398 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.398 leader 1 replicate peer 2: [{1 105}]
 peer 2 true!!!!!!!
match index: [6 6 5]
next index: [7 7 6]
peer 2 applied: 105
2018/12/14/ 10:10:34.429 leader 1 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.429 leader 1 replicate peer 2: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:34.890 leader 1 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:34.890 leader 1 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:34.890 leader 1 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:34.890 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:34.890 leader 1 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:34.890 leader 1 replicate peer 2: [{5 106}]
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 2 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 1 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:34.080 leader 1 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:34.080 leader 1 replicate peer 0: [{5 107}]
 2018/12/14/ 10:10:34.080 leader 1 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:34.081 leader 1 replicate peer 2: [{5 107}]
 2018/12/14/ 10:10:34.080 leader 1 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:34.081 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.7  3  184    8
PASS
ok  	raft	5.725s
=======================
last heard time 1544754893113, timeout 494
last heard time 1544754893113, timeout 417
last heard time 1544754893114, timeout 365
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:34.479 peer 2 starts election
2018/12/14/ 10:10:34.483 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:34.483 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:34.483 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:34.546 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:34.546 leader 2 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:34.546 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:34.546 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:34.546 leader 2 replicate send 0: [{1 101}]
 peer 1 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
2018/12/14/ 10:10:34.547 leader 2 replicate peer 0: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 2 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:34.094 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:34.095 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:34.095 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:34.095 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:34.216 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:34.216 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.216 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:34.217 leader 2 replicate peer 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:34.369 peer 0 starts election
2018/12/14/ 10:10:34.786 peer 0 starts election
2018/12/14/ 10:10:34.172 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:34.340 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:34.340 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:34.340 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:34.341 leader 2 replicate peer 1: [{1 104}]
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:34.401 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:34.401 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:34.401 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:34.401 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 5 4]
next index: [2 6 5]
peer 2 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:34.523 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:34.523 leader 2 replicate peer 2: []
 peer 0 false!!!!!!!
leader 2 becomes follower in replicate
2018/12/14/ 10:10:34.523 leader 2 replicate send 1: [{1 106}]
 peer 2 true!!!!!!!
match index: [1 5 6]
next index: [2 6 7]
2018/12/14/ 10:10:34.524 leader 2 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
leader 2 return !!!
2018/12/14/ 10:10:34.950 peer 1 starts election
2018/12/14/ 10:10:34.950 peer 2(votedFor 2) current term 4 vote peer 1 current term 2: false
2018/12/14/ 10:10:34.950 peer 0(votedFor 0) current term 4 vote peer 1 current term 2: false
2018/12/14/ 10:10:34.955 peer 2 starts election
2018/12/14/ 10:10:34.955 peer 1(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:34.956 peer 0(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:34.956 peer 2 becomes leader
start hb
2018/12/14/ 10:10:34.957 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:34.957 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:34.988 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:34.988 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:34.018 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:34.019 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:34.048 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:34.049 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:34.079 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:34.079 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:34.540 leader 2 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:34.541 leader 2 replicate peer 1: [{5 106}]
 2018/12/14/ 10:10:34.541 leader 2 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:34.541 leader 2 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:34.541 leader 2 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:34.542 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 0 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 1 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:34.729 leader 2 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:34.729 leader 2 replicate peer 0: [{5 107}]
 2018/12/14/ 10:10:34.729 leader 2 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:34.729 leader 2 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:34.729 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
2018/12/14/ 10:10:34.729 leader 2 replicate peer 1: [{5 107}]
 peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 0 applied: 107
peer 1 applied: 107
  ... Passed --   5.7  3  184    8
PASS
ok  	raft	5.693s
=======================
last heard time 1544754900621, timeout 476
last heard time 1544754900621, timeout 464
last heard time 1544754900622, timeout 404
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.029 peer 2 starts election
2018/12/14/ 10:10:35.032 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:35.032 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:35.032 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.094 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.094 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.094 leader 2 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:35.094 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
peer 1 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
2018/12/14/ 10:10:35.095 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.095 leader 2 replicate peer 0: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 2 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.672 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.672 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.672 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:35.672 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
peer 2 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.794 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.794 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.794 leader 2 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:35.794 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 3 2]
next index: [2 4 3]
peer 2 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:35.064 peer 0 starts election
2018/12/14/ 10:10:35.485 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.861 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.861 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.861 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.861 leader 2 replicate peer 1: [{1 104}]
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.982 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.982 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.983 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.983 leader 2 replicate peer 1: [{1 105}]
 peer 2 true!!!!!!!
match index: [1 4 5]
next index: [2 5 6]
peer 1 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
2018/12/14/ 10:10:35.988 peer 0 starts election
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.105 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.105 leader 2 replicate peer 1: [{1 106}]
 2018/12/14/ 10:10:35.105 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.105 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 5 6]
next index: [2 6 7]
peer 1 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
peer 0 false!!!!!!!
leader 2 becomes follower in replicate
leader 2 return !!!
2018/12/14/ 10:10:35.493 peer 1 starts election
2018/12/14/ 10:10:35.494 peer 0(votedFor 0) current term 4 vote peer 1 current term 2: false
2018/12/14/ 10:10:35.494 peer 2(votedFor 2) current term 4 vote peer 1 current term 2: false
2018/12/14/ 10:10:35.565 peer 0 starts election
2018/12/14/ 10:10:35.566 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:35.566 peer 1(votedFor 1) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:35.588 peer 2 starts election
2018/12/14/ 10:10:35.589 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:35.589 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:35.589 peer 2 becomes leader
start hb
2018/12/14/ 10:10:35.591 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.591 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:35.621 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.621 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:35.651 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.651 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:35.682 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.682 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:35.712 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.712 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:35.109 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:35.109 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:35.109 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:35.110 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
2018/12/14/ 10:10:35.109 leader 2 replicate peer 0: [{6 106}]
 peer 0 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
2018/12/14/ 10:10:35.110 leader 2 replicate peer 1: [{6 106}]
 peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:35.267 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:35.267 leader 2 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:35.268 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:35.268 leader 2 replicate peer 0: [{6 107}]
 2018/12/14/ 10:10:35.267 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:35.268 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [8 7 7]
next index: [9 8 8]
peer 2 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 0 applied: 107
peer 2 applied: 107
  ... Passed --   5.7  3  184    8
PASS
ok  	raft	5.723s
=======================
last heard time 1544754908022, timeout 403
last heard time 1544754908022, timeout 458
last heard time 1544754908022, timeout 447
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.430 peer 0 starts election
2018/12/14/ 10:10:35.434 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.435 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.435 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.496 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.497 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.497 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.497 leader 0 replicate peer 1: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
2018/12/14/ 10:10:35.497 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.497 leader 0 replicate peer 2: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 0 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.044 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.044 leader 0 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
2018/12/14/ 10:10:35.045 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.045 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.165 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.166 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.166 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.166 leader 0 replicate peer 2: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:35.330 peer 1 starts election
2018/12/14/ 10:10:35.697 peer 1 starts election
2018/12/14/ 10:10:35.147 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.260 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.260 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.261 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.261 leader 0 replicate peer 2: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.381 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.381 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:35.381 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.382 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 1 5]
next index: [5 2 6]
peer 0 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.473 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.473 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:35.473 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.473 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:35.847 peer 1 starts election
2018/12/14/ 10:10:35.848 peer 2(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.848 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.889 peer 2 starts election
2018/12/14/ 10:10:35.890 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:35.890 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:35.890 peer 2 becomes leader
start hb
2018/12/14/ 10:10:35.892 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.892 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:35.892 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.893 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
2018/12/14/ 10:10:35.893 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.893 leader 2 replicate peer 1: []
 match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:35.922 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.922 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:35.923 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.923 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:35.923 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.923 leader 2 replicate peer 1: [{1 102}]
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 1 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 1 applied: 102
2018/12/14/ 10:10:35.953 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.953 leader 2 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:35.953 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.953 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [2 2 3]
next index: [3 3 4]
2018/12/14/ 10:10:35.953 leader 2 replicate send 0: [{1 103}]
 peer 1 true!!!!!!!
match index: [2 3 3]
next index: [3 4 4]
2018/12/14/ 10:10:35.954 leader 2 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 1 applied: 103
2018/12/14/ 10:10:35.983 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.983 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.983 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.984 leader 2 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 3 4]
next index: [4 4 5]
2018/12/14/ 10:10:35.983 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.984 leader 2 replicate peer 1: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 3 4]
next index: [5 4 5]
peer 1 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 1 applied: 104
2018/12/14/ 10:10:35.013 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.013 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.014 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.014 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:35.014 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.014 leader 2 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 4 5]
next index: [5 5 6]
peer 1 true!!!!!!!
match index: [4 5 5]
next index: [5 6 6]
peer 0 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 1 applied: 105
2018/12/14/ 10:10:35.044 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.044 leader 2 replicate peer 1: [{1 106}]
 2018/12/14/ 10:10:35.044 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.044 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:35.044 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.045 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [5 6 5]
next index: [6 7 6]
peer 0 true!!!!!!!
match index: [6 6 5]
next index: [7 7 6]
peer 2 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:35.474 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:35.475 leader 2 replicate peer 0: [{6 106}]
 2018/12/14/ 10:10:35.475 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:35.475 leader 2 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:35.475 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:35.475 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 0 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:35.661 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:35.662 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:35.662 leader 2 replicate peer 0: [{6 107}]
 2018/12/14/ 10:10:35.662 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:35.662 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
2018/12/14/ 10:10:35.662 leader 2 replicate peer 1: [{6 107}]
 peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 0 applied: 107
peer 2 applied: 107
  ... Passed --   5.7  3  197    8
PASS
ok  	raft	5.711s
=======================
last heard time 1544754915686, timeout 436
last heard time 1544754915686, timeout 353
last heard time 1544754915687, timeout 443
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.041 peer 1 starts election
2018/12/14/ 10:10:35.045 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:35.045 peer 1 becomes leader
start hb
2018/12/14/ 10:10:35.045 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
[{0 0} {1 101}]
2018/12/14/ 10:10:35.107 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.107 leader 1 replicate peer 0: [{1 101}]
 2018/12/14/ 10:10:35.107 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.107 leader 1 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:35.107 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.107 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 2 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.716 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.716 leader 1 replicate peer 0: [{1 102}]
 2018/12/14/ 10:10:35.716 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.717 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
peer 0 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 0 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.777 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.777 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:35.777 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.777 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [3 2 1]
next index: [4 3 2]
peer 1 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:35.000 peer 2 starts election
2018/12/14/ 10:10:35.356 peer 2 starts election
2018/12/14/ 10:10:35.794 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.903 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.903 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:35.903 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.904 leader 1 replicate peer 0: [{1 104}]
 peer 1 true!!!!!!!
match index: [3 4 1]
next index: [4 5 2]
peer 0 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 1 applied: 104
peer 0 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.994 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.994 leader 1 replicate peer 0: [{1 105}]
 2018/12/14/ 10:10:35.994 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.995 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [5 4 1]
next index: [6 5 2]
peer 1 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 1 applied: 105
peer 0 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.085 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.085 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:35.086 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.086 leader 1 replicate peer 0: [{1 106}]
 peer 1 true!!!!!!!
match index: [5 6 1]
next index: [6 7 2]
peer 2 false!!!!!!!
leader 1 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 6 1]
next index: [7 7 2]
leader 1 return !!!
2018/12/14/ 10:10:35.536 peer 1 starts election
2018/12/14/ 10:10:35.536 peer 2 starts election
2018/12/14/ 10:10:35.537 peer 2(votedFor 2) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.537 peer 0(votedFor 1) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:35.537 peer 1(votedFor 1) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:35.537 peer 0(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:35.538 peer 1 becomes leader
start hb
2018/12/14/ 10:10:35.539 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.539 leader 1 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [6 6 2]
next index: [7 7 3]
peer 2 applied: 102
2018/12/14/ 10:10:35.569 leader 1 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.569 leader 1 replicate peer 2: [{1 103}]
 peer 2 true!!!!!!!
match index: [6 6 3]
next index: [7 7 4]
peer 2 applied: 103
2018/12/14/ 10:10:35.599 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.600 leader 1 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [6 6 4]
next index: [7 7 5]
peer 2 applied: 104
2018/12/14/ 10:10:35.630 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.630 leader 1 replicate peer 2: [{1 105}]
 peer 2 true!!!!!!!
match index: [6 6 5]
next index: [7 7 6]
peer 2 applied: 105
2018/12/14/ 10:10:35.660 leader 1 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.660 leader 1 replicate peer 2: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:35.093 leader 1 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:35.093 leader 1 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:35.093 leader 1 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:35.093 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:35.093 leader 1 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:35.094 leader 1 replicate peer 2: [{5 106}]
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 2 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 1 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:35.219 leader 1 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:35.219 leader 1 replicate peer 0: [{5 107}]
 2018/12/14/ 10:10:35.219 leader 1 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:35.220 leader 1 replicate peer 2: [{5 107}]
 2018/12/14/ 10:10:35.220 leader 1 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:35.220 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [8 7 7]
next index: [9 8 8]
peer 2 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.6  3  180    8
PASS
ok  	raft	5.627s
=======================
last heard time 1544754923195, timeout 493
last heard time 1544754923196, timeout 477
last heard time 1544754923196, timeout 469
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.668 peer 2 starts election
2018/12/14/ 10:10:35.671 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:35.671 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:35.672 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.703 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.703 leader 2 replicate peer 0: [{1 101}]
 2018/12/14/ 10:10:35.703 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.703 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:35.703 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.704 leader 2 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 1 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.311 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.311 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.311 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.312 leader 2 replicate peer 1: [{1 102}]
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.403 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.403 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.403 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.403 leader 2 replicate peer 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:35.712 peer 0 starts election
2018/12/14/ 10:10:35.068 peer 0 starts election
2018/12/14/ 10:10:35.458 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.529 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.529 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.529 leader 2 replicate send 1: [{1 104}]
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
2018/12/14/ 10:10:35.530 leader 2 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.621 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.621 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.621 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.621 leader 2 replicate peer 1: [{1 105}]
 peer 2 true!!!!!!!
match index: [1 4 5]
next index: [2 5 6]
peer 1 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.712 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.712 leader 2 replicate peer 2: []
 peer 0 false!!!!!!!
leader 2 becomes follower in replicate
peer 2 true!!!!!!!
match index: [1 5 6]
next index: [2 6 7]
2018/12/14/ 10:10:35.712 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.712 leader 2 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
leader 2 return !!!
2018/12/14/ 10:10:35.139 peer 0 starts election
2018/12/14/ 10:10:35.140 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:35.140 peer 1(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:35.152 peer 2 starts election
2018/12/14/ 10:10:35.153 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:35.153 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:35.153 peer 2 becomes leader
start hb
2018/12/14/ 10:10:35.154 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.154 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:35.185 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.185 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:35.215 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.215 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:35.246 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.246 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:35.276 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.276 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:35.737 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:35.737 leader 2 replicate peer 0: [{6 106}]
 2018/12/14/ 10:10:35.737 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:35.738 leader 2 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:35.738 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:35.738 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 0 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 1 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:35.926 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:35.926 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:35.926 leader 2 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:35.926 leader 2 replicate peer 0: [{6 107}]
 2018/12/14/ 10:10:35.926 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:35.927 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
peer 0 true!!!!!!!
match index: [8 8 7]
next index: [9 9 8]
peer 2 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 1 applied: 107
peer 0 applied: 107
  ... Passed --   5.8  3  183    8
PASS
ok  	raft	5.817s
=======================
last heard time 1544754930741, timeout 418
last heard time 1544754930741, timeout 475
last heard time 1544754930742, timeout 454
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.160 peer 0 starts election
2018/12/14/ 10:10:35.163 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.163 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.163 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.225 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.225 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.226 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
2018/12/14/ 10:10:35.226 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:35.226 leader 0 replicate send 1: [{1 101}]
 peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:35.226 leader 0 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.804 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.804 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.804 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.805 leader 0 replicate peer 2: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.895 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.896 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:35.895 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.896 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 1 3]
next index: [3 2 4]
peer 0 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:35.236 peer 1 starts election
2018/12/14/ 10:10:35.633 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.010 peer 1 starts election
2018/12/14/ 10:10:35.020 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.020 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.020 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:35.020 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 1 4]
next index: [4 2 5]
peer 0 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.111 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.111 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.112 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.112 leader 0 replicate peer 2: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.203 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.203 leader 0 replicate peer 2: [{1 106}]
 peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 0 false!!!!!!!
match index: [5 1 6]
next index: [5 2 7]
leader 0 return !!!
2018/12/14/ 10:10:35.563 peer 2 starts election
2018/12/14/ 10:10:35.564 peer 1(votedFor 1) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:35.564 peer 0(votedFor 0) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:35.595 peer 1 starts election
2018/12/14/ 10:10:35.595 peer 2(votedFor 2) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.596 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.624 peer 0 starts election
2018/12/14/ 10:10:35.624 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:35.624 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:35.625 peer 0 becomes leader
start hb
2018/12/14/ 10:10:35.626 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.626 leader 0 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:35.626 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.626 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [5 2 6]
next index: [5 3 7]
peer 0 true!!!!!!!
match index: [6 2 6]
next index: [6 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:35.656 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.656 leader 0 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:35.656 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.656 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [6 4 7]
peer 0 true!!!!!!!
match index: [7 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:35.686 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.686 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [7 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:35.717 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.717 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [7 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:35.747 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.747 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [7 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:35.207 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:35.207 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:35.207 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:35.207 leader 0 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:35.207 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:35.208 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 6 7]
next index: [7 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [8 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 2 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:35.398 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:35.399 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:35.399 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:35.399 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [8 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [9 7 8]
next index: [9 8 9]
2018/12/14/ 10:10:35.399 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:35.400 leader 0 replicate peer 1: [{6 107}]
 peer 1 true!!!!!!!
match index: [9 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 1 applied: 107
peer 2 applied: 107
  ... Passed --   5.7  3  187    8
PASS
ok  	raft	5.756s
=======================
last heard time 1544754938291, timeout 368
last heard time 1544754938291, timeout 397
last heard time 1544754938292, timeout 440
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.666 peer 0 starts election
2018/12/14/ 10:10:35.670 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.671 peer 0 becomes leader
2018/12/14/ 10:10:35.671 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.702 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.703 leader 0 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:35.703 leader 0 replicate send 2: [{1 101}]
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
2018/12/14/ 10:10:35.703 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.703 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
2018/12/14/ 10:10:35.703 leader 0 replicate peer 2: [{1 101}]
 peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 2 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.343 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.343 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.344 leader 0 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:35.344 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.404 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.404 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:35.404 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.405 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 1 3]
next index: [3 2 4]
peer 0 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:35.741 peer 1 starts election
2018/12/14/ 10:10:35.150 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.497 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.497 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:35.498 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.498 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
2018/12/14/ 10:10:35.569 peer 1 starts election
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.619 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.619 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:35.619 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.620 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 1 5]
next index: [5 2 6]
peer 0 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.711 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.711 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:35.711 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.711 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:35.071 peer 2 starts election
2018/12/14/ 10:10:35.072 peer 0(votedFor 0) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:35.072 peer 1(votedFor 1) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:35.092 peer 1 starts election
2018/12/14/ 10:10:35.093 peer 2(votedFor 2) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.093 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.151 peer 0 starts election
2018/12/14/ 10:10:35.152 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:35.152 peer 0 becomes leader
2018/12/14/ 10:10:35.152 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
start hb
2018/12/14/ 10:10:35.153 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.153 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:35.185 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.185 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:35.215 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.215 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:35.245 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.245 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:35.276 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.276 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:35.706 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:35.706 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:35.706 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:35.706 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.706 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:35.706 leader 0 replicate peer 2: [{6 106}]
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 0 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:35.834 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:35.834 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:35.834 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:35.834 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.834 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:35.834 leader 0 replicate peer 1: [{6 107}]
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 0 applied: 107
peer 1 applied: 107
  ... Passed --   5.6  3  182    8
PASS
ok  	raft	5.636s
=======================
last heard time 1544754945810, timeout 473
last heard time 1544754945810, timeout 489
last heard time 1544754945811, timeout 374
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.186 peer 2 starts election
2018/12/14/ 10:10:35.190 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:35.190 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:35.190 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.222 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.222 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.222 leader 2 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:35.222 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.222 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.223 leader 2 replicate peer 0: [{1 101}]
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
peer 2 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 0 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.861 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.861 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
2018/12/14/ 10:10:35.861 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.861 leader 2 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.921 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.922 leader 2 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:35.922 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.922 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 3 2]
next index: [2 4 3]
peer 2 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:35.231 peer 0 starts election
2018/12/14/ 10:10:35.652 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.020 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.020 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.020 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.020 leader 2 replicate peer 1: [{1 104}]
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.134 peer 0 starts election
2018/12/14/ 10:10:35.143 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.143 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:35.143 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.143 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 5 4]
next index: [2 6 5]
peer 2 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.234 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.235 leader 2 replicate peer 1: [{1 106}]
 2018/12/14/ 10:10:35.235 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.235 leader 2 replicate peer 2: []
 peer 0 false!!!!!!!
leader 2 becomes follower in replicate
peer 2 true!!!!!!!
match index: [1 5 6]
next index: [2 6 7]
peer 1 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
leader 2 return !!!
2018/12/14/ 10:10:35.644 peer 2 starts election
2018/12/14/ 10:10:35.645 peer 0(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:35.646 peer 2 becomes leader
2018/12/14/ 10:10:35.645 peer 1(votedFor 2) current term 5 vote peer 2 current term 5: true
start hb
2018/12/14/ 10:10:35.647 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.647 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:35.677 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.677 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:35.707 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.707 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:35.738 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.738 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:35.768 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.769 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:35.227 leader 2 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:35.227 leader 2 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:35.227 leader 2 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:35.227 leader 2 replicate peer 1: [{5 106}]
 2018/12/14/ 10:10:35.227 leader 2 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:35.227 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 1 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:35.415 leader 2 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:35.415 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:35.415 leader 2 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:35.416 leader 2 replicate peer 1: [{5 107}]
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 1 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
2018/12/14/ 10:10:35.415 leader 2 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:35.417 leader 2 replicate peer 0: [{5 107}]
 peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 0 applied: 107
peer 1 applied: 107
  ... Passed --   5.7  3  180    8
PASS
ok  	raft	5.694s
=======================
last heard time 1544754953411, timeout 400
last heard time 1544754953411, timeout 494
last heard time 1544754953412, timeout 438
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:35.818 peer 0 starts election
2018/12/14/ 10:10:35.823 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.823 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:35.823 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:35.886 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:35.887 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.886 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:35.887 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:35.887 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:35.887 leader 0 replicate peer 1: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 0 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:35.465 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:35.465 leader 0 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:35.465 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:35.465 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:35.555 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:35.555 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.555 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:35.555 leader 0 replicate peer 2: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:35.843 peer 1 starts election
2018/12/14/ 10:10:35.231 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:35.682 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:35.682 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:35.682 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:35.682 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
2018/12/14/ 10:10:35.691 peer 1 starts election
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:35.773 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:35.773 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:35.773 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:35.774 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 1 5]
next index: [5 2 6]
peer 0 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:35.864 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:35.864 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:35.865 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:35.865 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:35.237 peer 2 starts election
2018/12/14/ 10:10:35.237 peer 1 starts election
2018/12/14/ 10:10:35.237 peer 1(votedFor 1) current term 5 vote peer 2 current term 2: false
2018/12/14/ 10:10:35.238 peer 0(votedFor 0) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:35.238 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.238 peer 2(votedFor 2) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:35.265 peer 0 starts election
2018/12/14/ 10:10:35.266 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:35.266 peer 0 becomes leader
2018/12/14/ 10:10:35.266 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:35.267 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:35.267 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
start hb
peer 1 applied: 102
2018/12/14/ 10:10:35.298 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:35.298 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:35.328 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:35.328 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:35.359 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:35.359 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:35.389 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:35.389 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:35.881 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:35.881 leader 0 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:35.881 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:35.881 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:35.881 leader 0 replicate send 1: [{6 106}]
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
2018/12/14/ 10:10:35.881 leader 0 replicate peer 1: [{6 106}]
 peer 0 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:35.039 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:35.039 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:35.039 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [8 7 7]
next index: [9 8 8]
2018/12/14/ 10:10:35.039 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:35.040 leader 0 replicate peer 2: [{6 107}]
 peer 2 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
2018/12/14/ 10:10:35.039 leader 0 replicate peer 1: [{6 107}]
 peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.7  3  185    8
PASS
ok  	raft	5.728s
=======================
last heard time 1544754960780, timeout 480
last heard time 1544754960781, timeout 389
last heard time 1544754960781, timeout 424
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.178 peer 1 starts election
2018/12/14/ 10:10:36.182 peer 2(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:36.182 peer 0(votedFor 1) current term 1 vote peer 1 current term 1: true
2018/12/14/ 10:10:36.182 peer 1 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.213 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.214 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.214 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:36.214 leader 1 replicate peer 0: [{1 101}]
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
2018/12/14/ 10:10:36.214 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.214 leader 1 replicate peer 2: [{1 101}]
 peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 1 applied: 101
peer 0 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.793 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.793 leader 1 replicate peer 0: [{1 102}]
 2018/12/14/ 10:10:36.793 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.793 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
peer 1 true!!!!!!!
match index: [2 2 1]
next index: [3 3 2]
peer 1 applied: 102
peer 0 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.914 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.914 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:36.914 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.915 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [3 2 1]
next index: [4 3 2]
peer 1 true!!!!!!!
match index: [3 3 1]
next index: [4 4 2]
peer 1 applied: 103
peer 0 applied: 103
2------------------------
2018/12/14/ 10:10:36.057 peer 2 starts election
2018/12/14/ 10:10:36.486 peer 2 starts election
2018/12/14/ 10:10:36.966 peer 2 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.040 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.040 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:36.040 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.040 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [4 3 1]
next index: [5 4 2]
peer 1 true!!!!!!!
match index: [4 4 1]
next index: [5 5 2]
peer 0 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.131 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.132 leader 1 replicate peer 0: [{1 105}]
 2018/12/14/ 10:10:36.132 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.132 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [5 4 1]
next index: [6 5 2]
peer 1 true!!!!!!!
match index: [5 5 1]
next index: [6 6 2]
peer 1 applied: 105
peer 0 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.223 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.223 leader 1 replicate peer 1: []
 peer 2 false!!!!!!!
leader 1 becomes follower in replicate
peer 1 true!!!!!!!
match index: [5 6 1]
next index: [6 7 2]
2018/12/14/ 10:10:36.223 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.224 leader 1 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 1]
next index: [7 7 2]
leader 1 return !!!
2018/12/14/ 10:10:36.612 peer 1 starts election
2018/12/14/ 10:10:36.613 peer 2(votedFor 1) current term 5 vote peer 1 current term 5: true
2018/12/14/ 10:10:36.614 peer 1 becomes leader
2018/12/14/ 10:10:36.613 peer 0(votedFor 1) current term 5 vote peer 1 current term 5: true
start hb
2018/12/14/ 10:10:36.615 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.615 leader 1 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [6 6 2]
next index: [7 7 3]
peer 2 applied: 102
2018/12/14/ 10:10:36.645 leader 1 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.645 leader 1 replicate peer 2: [{1 103}]
 peer 2 true!!!!!!!
match index: [6 6 3]
next index: [7 7 4]
peer 2 applied: 103
2018/12/14/ 10:10:36.675 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.675 leader 1 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [6 6 4]
next index: [7 7 5]
peer 2 applied: 104
2018/12/14/ 10:10:36.706 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.706 leader 1 replicate peer 2: [{1 105}]
 peer 2 true!!!!!!!
match index: [6 6 5]
next index: [7 7 6]
peer 2 applied: 105
2018/12/14/ 10:10:36.737 leader 1 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.737 leader 1 replicate peer 2: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:36.227 leader 1 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:36.227 leader 1 replicate peer 2: [{5 106}]
 2018/12/14/ 10:10:36.227 leader 1 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:36.227 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
2018/12/14/ 10:10:36.227 leader 1 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:36.227 leader 1 replicate peer 0: [{5 106}]
 peer 1 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 1 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:36.385 leader 1 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:36.385 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
2018/12/14/ 10:10:36.385 leader 1 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:36.386 leader 1 replicate peer 2: [{5 107}]
 2018/12/14/ 10:10:36.386 leader 1 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:36.386 leader 1 replicate peer 0: [{5 107}]
 peer 2 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.7  3  182    8
PASS
ok  	raft	5.679s
=======================
last heard time 1544754968365, timeout 432
last heard time 1544754968365, timeout 455
last heard time 1544754968365, timeout 362
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.732 peer 2 starts election
2018/12/14/ 10:10:36.736 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.736 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.736 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.798 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.798 leader 2 replicate peer 0: [{1 101}]
 2018/12/14/ 10:10:36.798 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.798 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.799 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.799 leader 2 replicate peer 1: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 2 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 2 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.376 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.376 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.376 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.377 leader 2 replicate peer 1: [{1 102}]
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.467 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.467 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.467 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.468 leader 2 replicate peer 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:36.829 peer 0 starts election
2018/12/14/ 10:10:36.225 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.581 peer 0 starts election
2018/12/14/ 10:10:36.593 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.593 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
2018/12/14/ 10:10:36.594 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.594 leader 2 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.685 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.685 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 4 5]
next index: [2 5 6]
2018/12/14/ 10:10:36.685 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.686 leader 2 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.806 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.806 leader 2 replicate peer 2: []
 peer 0 false!!!!!!!
leader 2 becomes follower in replicate
peer 2 true!!!!!!!
match index: [1 5 6]
next index: [2 6 7]
2018/12/14/ 10:10:36.806 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.807 leader 2 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
leader 2 return !!!
2018/12/14/ 10:10:36.172 peer 2 starts election
2018/12/14/ 10:10:36.172 peer 1(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:36.172 peer 0(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:36.173 peer 2 becomes leader
start hb
2018/12/14/ 10:10:36.174 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.174 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 7]
peer 0 applied: 102
2018/12/14/ 10:10:36.204 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.204 leader 2 replicate peer 0: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:36.234 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.235 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 6]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:36.265 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.265 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:36.295 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.296 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:36.816 leader 2 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:36.817 leader 2 replicate peer 0: [{5 106}]
 2018/12/14/ 10:10:36.817 leader 2 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:36.817 leader 2 replicate peer 1: [{5 106}]
 2018/12/14/ 10:10:36.817 leader 2 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:36.817 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [7 6 6]
next index: [8 7 7]
peer 2 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 1 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:36.944 leader 2 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:36.944 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
2018/12/14/ 10:10:36.944 leader 2 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:36.945 leader 2 replicate peer 0: [{5 107}]
 2018/12/14/ 10:10:36.944 leader 2 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:36.946 leader 2 replicate peer 1: [{5 107}]
 peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 1 applied: 107
peer 0 applied: 107
  ... Passed --   5.6  3  182    8
PASS
ok  	raft	5.653s
=======================
last heard time 1544754975845, timeout 493
last heard time 1544754975845, timeout 395
last heard time 1544754975845, timeout 360
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.210 peer 2 starts election
2018/12/14/ 10:10:36.214 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.214 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.215 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.277 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.277 leader 2 replicate peer 0: [{1 101}]
 2018/12/14/ 10:10:36.277 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.277 leader 2 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:36.277 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.277 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
peer 0 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 1 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.825 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.825 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.826 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.826 leader 2 replicate peer 1: [{1 102}]
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.977 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.977 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.977 leader 2 replicate send 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
2018/12/14/ 10:10:36.978 leader 2 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 1 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:36.098 peer 0 starts election
2018/12/14/ 10:10:36.484 peer 0 starts election
2018/12/14/ 10:10:36.977 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.073 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.074 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
2018/12/14/ 10:10:36.074 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.074 leader 2 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 1 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.134 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.134 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:36.134 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.135 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 4 5]
next index: [2 5 6]
peer 1 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.256 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.256 leader 2 replicate peer 1: [{1 106}]
 2018/12/14/ 10:10:36.256 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.256 leader 2 replicate peer 2: []
 peer 0 false!!!!!!!
leader 2 becomes follower in replicate
peer 1 true!!!!!!!
match index: [1 6 5]
next index: [2 7 6]
peer 2 true!!!!!!!
match index: [1 6 6]
next index: [2 7 7]
leader 2 return !!!
2018/12/14/ 10:10:36.615 peer 0 starts election
2018/12/14/ 10:10:36.615 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:36.616 peer 1(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:36.636 peer 1 starts election
2018/12/14/ 10:10:36.637 peer 2(votedFor 1) current term 6 vote peer 1 current term 6: true
2018/12/14/ 10:10:36.637 peer 0(votedFor 1) current term 6 vote peer 1 current term 6: true
2018/12/14/ 10:10:36.637 peer 1 becomes leader
start hb
2018/12/14/ 10:10:36.638 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.638 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.638 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.638 leader 1 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:36.638 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.638 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:36.668 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.668 leader 1 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:36.669 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.669 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.669 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.669 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 1 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 0 applied: 102
2018/12/14/ 10:10:36.698 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.699 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:36.699 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.699 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:36.699 leader 1 replicate send 2: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 2 2]
next index: [4 3 3]
peer 1 true!!!!!!!
match index: [3 3 2]
next index: [4 4 3]
2018/12/14/ 10:10:36.699 leader 1 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 0 applied: 103
2018/12/14/ 10:10:36.729 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.729 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:36.729 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.729 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.729 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.730 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [3 3 4]
next index: [4 4 5]
peer 0 true!!!!!!!
match index: [4 3 4]
next index: [5 4 5]
peer 1 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 0 applied: 104
2018/12/14/ 10:10:36.759 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.759 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.759 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:36.759 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.760 leader 1 replicate peer 0: [{1 105}]
 2018/12/14/ 10:10:36.759 leader 1 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [4 5 4]
next index: [5 6 5]
peer 0 true!!!!!!!
match index: [5 5 4]
next index: [6 6 5]
peer 2 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 0 applied: 105
2018/12/14/ 10:10:36.789 leader 1 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.789 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.789 leader 1 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.790 leader 1 replicate peer 0: [{1 106}]
 2018/12/14/ 10:10:36.790 leader 1 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.790 leader 1 replicate peer 1: []
 peer 2 true!!!!!!!
match index: [5 5 6]
next index: [6 6 7]
peer 0 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:36.280 leader 1 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:36.280 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
2018/12/14/ 10:10:36.280 leader 1 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:36.281 leader 1 replicate peer 0: [{6 106}]
 peer 0 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
2018/12/14/ 10:10:36.280 leader 1 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:36.282 leader 1 replicate peer 2: [{6 106}]
 peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 0 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:36.407 leader 1 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:36.407 leader 1 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:36.407 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
2018/12/14/ 10:10:36.407 leader 1 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:36.408 leader 1 replicate peer 0: [{6 107}]
 peer 0 true!!!!!!!
match index: [8 8 7]
next index: [9 9 8]
2018/12/14/ 10:10:36.407 leader 1 replicate peer 2: [{6 107}]
 peer 2 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 1 applied: 107
peer 2 applied: 107
peer 0 applied: 107
  ... Passed --   5.6  3  197    8
PASS
ok  	raft	5.652s
=======================
last heard time 1544754983197, timeout 406
last heard time 1544754983198, timeout 388
last heard time 1544754983198, timeout 354
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.553 peer 2 starts election
2018/12/14/ 10:10:36.557 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.557 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.558 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.619 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.620 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.620 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.620 leader 2 replicate peer 0: [{1 101}]
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:36.619 leader 2 replicate send 1: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:36.620 leader 2 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 1 applied: 101
peer 0 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.198 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.198 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:36.198 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.198 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
peer 2 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.290 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.290 leader 2 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:36.290 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.290 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 3 2]
next index: [2 4 3]
peer 2 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:36.624 peer 0 starts election
2018/12/14/ 10:10:36.065 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.416 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.417 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.417 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 3 4]
next index: [2 4 5]
2018/12/14/ 10:10:36.417 leader 2 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.508 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.508 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:36.508 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.509 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 5 4]
next index: [2 6 5]
peer 2 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
2018/12/14/ 10:10:36.556 peer 0 starts election
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.600 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.600 leader 2 replicate peer 1: [{1 106}]
 peer 0 false!!!!!!!
leader 2 becomes follower in replicate
peer 2 false!!!!!!!
match index: [1 5 5]
next index: [2 6 5]
peer 1 true!!!!!!!
match index: [1 6 5]
next index: [2 7 5]
leader 2 return !!!
2018/12/14/ 10:10:36.978 peer 0 starts election
2018/12/14/ 10:10:36.979 peer 2 starts election
2018/12/14/ 10:10:36.979 peer 1(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:36.980 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:36.980 peer 1(votedFor 2) current term 5 vote peer 2 current term 5: true
2018/12/14/ 10:10:36.980 peer 0(votedFor 0) current term 5 vote peer 2 current term 5: false
2018/12/14/ 10:10:36.981 peer 2 becomes leader
start hb
2018/12/14/ 10:10:36.981 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.981 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 6 6]
next index: [2 7 6]
2018/12/14/ 10:10:36.982 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.982 leader 2 replicate peer 0: [{1 102}]
 peer 0 true!!!!!!!
match index: [2 6 6]
next index: [3 7 6]
peer 0 applied: 102
2018/12/14/ 10:10:36.012 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.012 leader 2 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:36.012 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.012 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [3 6 6]
next index: [4 7 6]
peer 2 true!!!!!!!
match index: [3 6 7]
next index: [4 7 7]
peer 0 applied: 103
2018/12/14/ 10:10:36.042 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.042 leader 2 replicate peer 0: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 6 7]
next index: [5 7 7]
peer 0 applied: 104
2018/12/14/ 10:10:36.073 leader 2 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.073 leader 2 replicate peer 0: [{1 105}]
 peer 0 true!!!!!!!
match index: [5 6 7]
next index: [6 7 7]
peer 0 applied: 105
2018/12/14/ 10:10:36.103 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.103 leader 2 replicate peer 0: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 6 7]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:36.624 leader 2 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:36.624 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.624 leader 2 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:36.624 leader 2 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:36.625 leader 2 replicate peer 1: [{5 106}]
 2018/12/14/ 10:10:36.624 leader 2 replicate peer 0: [{5 106}]
 peer 2 true!!!!!!!
match index: [6 6 8]
next index: [7 7 8]
peer 1 true!!!!!!!
match index: [6 7 8]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 8]
next index: [8 8 8]
peer 2 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:36.752 leader 2 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:36.753 leader 2 replicate peer 0: [{5 107}]
 2018/12/14/ 10:10:36.753 leader 2 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:36.753 leader 2 replicate peer 1: [{5 107}]
 2018/12/14/ 10:10:36.753 leader 2 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:36.753 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 8]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 8]
peer 2 true!!!!!!!
match index: [8 8 9]
next index: [9 9 9]
peer 0 applied: 107
peer 1 applied: 107
peer 2 applied: 107
  ... Passed --   5.6  3  185    8
PASS
ok  	raft	5.639s
=======================
last heard time 1544754990674, timeout 386
last heard time 1544754990674, timeout 378
last heard time 1544754990675, timeout 395
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.061 peer 0 starts election
2018/12/14/ 10:10:36.061 peer 1 starts election
2018/12/14/ 10:10:36.066 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:36.066 peer 0(votedFor 0) current term 1 vote peer 1 current term 1: false
2018/12/14/ 10:10:36.066 peer 1(votedFor 1) current term 1 vote peer 0 current term 1: false
2018/12/14/ 10:10:36.066 peer 0 becomes leader
start hb
2018/12/14/ 10:10:36.067 peer 2(votedFor 0) current term 1 vote peer 1 current term 1: false
[{0 0} {1 101}]
2018/12/14/ 10:10:36.098 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.098 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:36.098 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.099 leader 0 replicate peer 1: [{1 101}]
 2018/12/14/ 10:10:36.099 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.099 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
peer 2 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 2 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.677 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.677 leader 0 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:36.677 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.677 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.798 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.798 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:36.798 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.799 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:36.130 peer 1 starts election
2018/12/14/ 10:10:36.600 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.922 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.923 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
2018/12/14/ 10:10:36.922 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.923 leader 0 replicate peer 2: [{1 104}]
 peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
2018/12/14/ 10:10:36.000 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.014 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.014 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.014 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:36.014 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 1 5]
next index: [5 2 6]
peer 0 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.105 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.105 leader 0 replicate peer 0: []
 peer 1 false!!!!!!!
leader 0 becomes follower in replicate
2018/12/14/ 10:10:36.105 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.105 leader 0 replicate peer 2: [{1 106}]
 peer 0 true!!!!!!!
match index: [6 1 5]
next index: [7 2 6]
peer 2 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:36.516 peer 0 starts election
2018/12/14/ 10:10:36.517 peer 1(votedFor 0) current term 5 vote peer 0 current term 5: true
2018/12/14/ 10:10:36.517 peer 0 becomes leader
2018/12/14/ 10:10:36.517 peer 2(votedFor 0) current term 5 vote peer 0 current term 5: true
start hb
2018/12/14/ 10:10:36.518 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.518 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:36.549 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.549 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:36.579 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.579 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:36.610 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.610 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:36.640 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.640 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106}]
2018/12/14/ 10:10:36.099 leader 0 replicate send 2: [{5 106}]
 2018/12/14/ 10:10:36.099 leader 0 replicate peer 2: [{5 106}]
 2018/12/14/ 10:10:36.099 leader 0 replicate send 1: [{5 106}]
 2018/12/14/ 10:10:36.099 leader 0 replicate send 0: [{5 106}]
 2018/12/14/ 10:10:36.099 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:36.099 leader 0 replicate peer 1: [{5 106}]
 peer 2 true!!!!!!!
match index: [6 6 7]
next index: [7 7 8]
peer 0 true!!!!!!!
match index: [7 6 7]
next index: [8 7 8]
peer 1 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {5 106} {5 107}]
2018/12/14/ 10:10:36.289 leader 0 replicate send 2: [{5 107}]
 2018/12/14/ 10:10:36.290 leader 0 replicate peer 2: [{5 107}]
 2018/12/14/ 10:10:36.290 leader 0 replicate send 1: [{5 107}]
 2018/12/14/ 10:10:36.290 leader 0 replicate peer 1: [{5 107}]
 2018/12/14/ 10:10:36.290 leader 0 replicate send 0: [{5 107}]
 2018/12/14/ 10:10:36.291 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
peer 1 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 2 applied: 107
peer 0 applied: 107
peer 1 applied: 107
  ... Passed --   5.7  3  184    8
PASS
ok  	raft	5.696s
=======================
last heard time 1544754998190, timeout 352
last heard time 1544754998190, timeout 454
last heard time 1544754998191, timeout 355
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.544 peer 0 starts election
2018/12/14/ 10:10:36.548 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:36.549 peer 0 becomes leader
2018/12/14/ 10:10:36.548 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.611 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.611 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:36.611 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.611 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:36.611 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.611 leader 0 replicate peer 1: [{1 101}]
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.189 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.189 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:36.189 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.189 leader 0 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.280 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.280 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.280 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:36.280 leader 0 replicate peer 2: [{1 103}]
 peer 0 true!!!!!!!
match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:36.580 peer 1 starts election
2018/12/14/ 10:10:36.987 peer 1 starts election
2018/12/14/ 10:10:36.342 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.405 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.405 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:36.405 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.405 leader 0 replicate peer 2: [{1 104}]
 peer 0 true!!!!!!!
match index: [4 1 3]
next index: [5 2 4]
peer 2 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.496 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.497 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:36.496 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.497 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 1 5]
next index: [5 2 6]
peer 0 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.588 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.588 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:36.588 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.588 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:36.015 peer 1 starts election
2018/12/14/ 10:10:36.015 peer 2(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:36.015 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:36.035 peer 2 starts election
2018/12/14/ 10:10:36.036 peer 1(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:36.036 peer 0(votedFor 2) current term 6 vote peer 2 current term 6: true
2018/12/14/ 10:10:36.036 peer 2 becomes leader
start hb
2018/12/14/ 10:10:36.037 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.037 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:36.038 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.038 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:36.038 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.039 leader 2 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:36.068 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.068 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
2018/12/14/ 10:10:36.069 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.069 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:36.068 leader 2 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.069 leader 2 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 0 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 1 applied: 102
2018/12/14/ 10:10:36.099 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.099 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [2 2 3]
next index: [3 3 4]
2018/12/14/ 10:10:36.100 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.100 leader 2 replicate peer 1: [{1 103}]
 2018/12/14/ 10:10:36.100 leader 2 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.101 leader 2 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [2 3 3]
next index: [3 4 4]
peer 0 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 1 applied: 103
2018/12/14/ 10:10:36.129 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.129 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [3 3 4]
next index: [4 4 5]
2018/12/14/ 10:10:36.130 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.130 leader 2 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.130 leader 2 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [4 3 4]
next index: [5 4 5]
2018/12/14/ 10:10:36.130 leader 2 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 1 applied: 104
2018/12/14/ 10:10:36.160 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.160 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.160 leader 2 replicate send 0: [{1 105}]
 peer 2 true!!!!!!!
match index: [4 4 5]
next index: [5 5 6]
2018/12/14/ 10:10:36.160 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.161 leader 2 replicate peer 1: [{1 105}]
 2018/12/14/ 10:10:36.160 leader 2 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [4 5 5]
next index: [5 6 6]
peer 0 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 1 applied: 105
2018/12/14/ 10:10:36.190 leader 2 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.190 leader 2 replicate peer 0: []
 2018/12/14/ 10:10:36.190 leader 2 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.190 leader 2 replicate peer 2: []
 peer 0 true!!!!!!!
match index: [6 5 5]
next index: [7 6 6]
2018/12/14/ 10:10:36.190 leader 2 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.190 leader 2 replicate peer 1: [{1 106}]
 peer 2 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:36.591 leader 2 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:36.591 leader 2 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:36.591 leader 2 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:36.591 leader 2 replicate peer 0: [{6 106}]
 2018/12/14/ 10:10:36.591 leader 2 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:36.592 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 2 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 2 applied: 106
peer 2 applied: 106
peer 0 applied: 106
peer 1 applied: 106
peer 0 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:36.716 leader 2 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:36.716 leader 2 replicate peer 1: [{6 107}]
 2018/12/14/ 10:10:36.716 leader 2 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:36.716 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.716 leader 2 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:36.717 leader 2 replicate peer 0: [{6 107}]
 peer 1 true!!!!!!!
match index: [7 8 7]
next index: [8 9 8]
peer 2 true!!!!!!!
match index: [7 8 8]
next index: [8 9 9]
peer 0 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.6  3  194    8
PASS
ok  	raft	5.612s
=======================
last heard time 1544755005696, timeout 406
last heard time 1544755005696, timeout 478
last heard time 1544755005697, timeout 443
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.103 peer 0 starts election
2018/12/14/ 10:10:36.107 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:36.107 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:36.108 peer 0 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.169 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.170 leader 0 replicate peer 2: [{1 101}]
 2018/12/14/ 10:10:36.170 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.170 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:36.170 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.171 leader 0 replicate peer 1: [{1 101}]
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 2 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.779 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.779 leader 0 replicate peer 2: [{1 102}]
 2018/12/14/ 10:10:36.779 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.779 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [1 1 2]
next index: [2 2 3]
peer 0 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.839 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.840 leader 0 replicate peer 2: [{1 103}]
 2018/12/14/ 10:10:36.840 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.840 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [2 1 3]
next index: [3 2 4]
peer 0 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:36.077 peer 1 starts election
2018/12/14/ 10:10:36.464 peer 1 starts election
2018/12/14/ 10:10:36.905 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.965 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.965 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:36.965 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.965 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 1 4]
next index: [4 2 5]
peer 0 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.056 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.057 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:36.057 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.057 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [4 1 5]
next index: [5 2 6]
peer 0 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.148 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:36.148 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:36.148 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:36.148 leader 0 replicate peer 0: []
 peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:36.576 peer 1 starts election
2018/12/14/ 10:10:36.577 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:36.577 peer 2(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:36.579 peer 0 starts election
2018/12/14/ 10:10:36.579 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:36.579 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:36.580 peer 0 becomes leader
start hb
2018/12/14/ 10:10:36.580 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.580 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:36.611 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.611 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:36.642 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.642 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:36.672 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.672 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:36.703 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:36.703 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:36.162 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:36.162 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:36.162 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:36.163 leader 0 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:36.163 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:36.163 leader 0 replicate peer 0: []
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 2 true!!!!!!!
match index: [6 7 7]
next index: [7 8 8]
peer 0 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:36.349 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:36.350 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:36.350 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:36.350 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
2018/12/14/ 10:10:36.350 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:36.351 leader 0 replicate peer 1: [{6 107}]
 peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.7  3  182    8
PASS
ok  	raft	5.756s
=======================
last heard time 1544755013413, timeout 407
last heard time 1544755013413, timeout 459
last heard time 1544755013413, timeout 381
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:36.798 peer 2 starts election
2018/12/14/ 10:10:36.802 peer 0(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.802 peer 1(votedFor 2) current term 1 vote peer 2 current term 1: true
2018/12/14/ 10:10:36.802 peer 2 becomes leader
start hb
[{0 0} {1 101}]
2018/12/14/ 10:10:36.833 leader 2 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.834 leader 2 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [0 0 1]
next index: [1 1 2]
2018/12/14/ 10:10:36.834 leader 2 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.834 leader 2 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.834 leader 2 replicate peer 0: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 1]
next index: [2 1 2]
2018/12/14/ 10:10:36.834 leader 2 replicate peer 1: [{1 101}]
 peer 1 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 2 applied: 101
peer 0 applied: 101
peer 1 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:36.442 leader 2 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.443 leader 2 replicate peer 1: [{1 102}]
 2018/12/14/ 10:10:36.443 leader 2 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.443 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 2 1]
next index: [2 3 2]
peer 2 true!!!!!!!
match index: [1 2 2]
next index: [2 3 3]
peer 2 applied: 102
peer 1 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:36.533 leader 2 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.533 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.533 leader 2 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.533 leader 2 replicate peer 1: [{1 103}]
 peer 2 true!!!!!!!
match index: [1 2 3]
next index: [2 3 4]
peer 1 true!!!!!!!
match index: [1 3 3]
next index: [2 4 4]
peer 2 applied: 103
peer 1 applied: 103
2------------------------
2018/12/14/ 10:10:36.856 peer 0 starts election
2018/12/14/ 10:10:36.347 peer 0 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:36.659 leader 2 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.659 leader 2 replicate peer 1: [{1 104}]
 2018/12/14/ 10:10:36.659 leader 2 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.659 leader 2 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [1 4 3]
next index: [2 5 4]
peer 2 true!!!!!!!
match index: [1 4 4]
next index: [2 5 5]
peer 2 applied: 104
peer 1 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:36.750 leader 2 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.751 leader 2 replicate peer 2: []
 2018/12/14/ 10:10:36.751 leader 2 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.751 leader 2 replicate peer 1: [{1 105}]
 peer 2 true!!!!!!!
match index: [1 4 5]
next index: [2 5 6]
peer 1 true!!!!!!!
match index: [1 5 5]
next index: [2 6 6]
peer 2 applied: 105
peer 1 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:36.840 peer 0 starts election
2018/12/14/ 10:10:36.841 peer 1(votedFor 2) current term 4 vote peer 0 current term 4: false
2018/12/14/ 10:10:36.841 peer 2(votedFor 2) current term 4 vote peer 0 current term 4: false
leader 2 return !!!
2018/12/14/ 10:10:36.281 peer 0 starts election
2018/12/14/ 10:10:36.282 peer 2(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:36.282 peer 1(votedFor 2) current term 5 vote peer 0 current term 5: false
2018/12/14/ 10:10:36.312 peer 1 starts election
2018/12/14/ 10:10:36.313 peer 0(votedFor 1) current term 6 vote peer 1 current term 6: true
2018/12/14/ 10:10:36.314 peer 1 becomes leader
2018/12/14/ 10:10:36.313 peer 2(votedFor 2) current term 6 vote peer 1 current term 6: false
start hb
2018/12/14/ 10:10:36.315 leader 1 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:36.315 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:36.315 leader 1 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:36.315 leader 1 replicate peer 2: []
 peer 1 true!!!!!!!
match index: [0 1 0]
next index: [1 2 1]
2018/12/14/ 10:10:36.315 leader 1 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:36.315 leader 1 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [0 1 1]
next index: [1 2 2]
peer 0 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
2018/12/14/ 10:10:36.345 leader 1 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:36.345 leader 1 replicate peer 0: [{1 102}]
 2018/12/14/ 10:10:36.345 leader 1 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:36.345 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.345 leader 1 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:36.346 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 1 true!!!!!!!
match index: [2 2 2]
next index: [3 3 3]
peer 0 applied: 102
2018/12/14/ 10:10:36.375 leader 1 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:36.376 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.376 leader 1 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:36.376 leader 1 replicate peer 0: [{1 103}]
 2018/12/14/ 10:10:36.376 leader 1 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:36.376 leader 1 replicate peer 1: []
 peer 1 true!!!!!!!
match index: [2 3 2]
next index: [3 4 3]
peer 2 true!!!!!!!
match index: [2 3 3]
next index: [3 4 4]
peer 0 true!!!!!!!
match index: [3 3 3]
next index: [4 4 4]
peer 0 applied: 103
2018/12/14/ 10:10:36.406 leader 1 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:36.406 leader 1 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:36.406 leader 1 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:36.406 leader 1 replicate peer 0: [{1 104}]
 2018/12/14/ 10:10:36.406 leader 1 replicate peer 2: []
 2018/12/14/ 10:10:36.406 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [4 3 3]
next index: [5 4 4]
peer 2 true!!!!!!!
match index: [4 3 4]
next index: [5 4 5]
peer 1 true!!!!!!!
match index: [4 4 4]
next index: [5 5 5]
peer 0 applied: 104
2018/12/14/ 10:10:36.436 leader 1 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:36.437 leader 1 replicate peer 0: [{1 105}]
 2018/12/14/ 10:10:36.437 leader 1 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:36.437 leader 1 replicate peer 1: []
 peer 0 true!!!!!!!
match index: [5 4 4]
next index: [6 5 5]
peer 1 true!!!!!!!
match index: [5 5 4]
next index: [6 6 5]
2018/12/14/ 10:10:36.437 leader 1 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:36.437 leader 1 replicate peer 2: []
 peer 2 true!!!!!!!
match index: [5 5 5]
next index: [6 6 6]
peer 0 applied: 105
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {6 106}]
2018/12/14/ 10:10:36.837 leader 1 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:36.837 leader 1 replicate peer 1: []
 2018/12/14/ 10:10:36.837 leader 1 replicate send 0: [{6 106}]
 peer 1 true!!!!!!!
match index: [5 6 5]
next index: [6 7 6]
2018/12/14/ 10:10:36.837 leader 1 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:36.837 leader 1 replicate peer 2: [{6 106}]
 2018/12/14/ 10:10:36.837 leader 1 replicate peer 0: [{6 106}]
 peer 2 true!!!!!!!
match index: [5 6 6]
next index: [6 7 7]
peer 0 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
peer 1 applied: 106
exit status 2
FAIL	raft	4.561s
=======================
last heard time 1544755019975, timeout 442
last heard time 1544755019976, timeout 487
last heard time 1544755019976, timeout 496
Test (2B): agreement despite follower disconnection ...
2018/12/14/ 10:10:37.423 peer 0 starts election
2018/12/14/ 10:10:37.426 peer 2(votedFor 0) current term 1 vote peer 0 current term 1: true
2018/12/14/ 10:10:37.427 peer 0 becomes leader
start hb
2018/12/14/ 10:10:37.427 peer 1(votedFor 0) current term 1 vote peer 0 current term 1: true
[{0 0} {1 101}]
2018/12/14/ 10:10:37.459 leader 0 replicate send 0: [{1 101}]
 2018/12/14/ 10:10:37.459 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:37.459 leader 0 replicate send 1: [{1 101}]
 2018/12/14/ 10:10:37.459 leader 0 replicate peer 1: [{1 101}]
 peer 0 true!!!!!!!
match index: [1 0 0]
next index: [2 1 1]
peer 1 true!!!!!!!
match index: [1 1 0]
next index: [2 2 1]
2018/12/14/ 10:10:37.459 leader 0 replicate send 2: [{1 101}]
 2018/12/14/ 10:10:37.460 leader 0 replicate peer 2: [{1 101}]
 peer 2 true!!!!!!!
match index: [1 1 1]
next index: [2 2 2]
peer 0 applied: 101
peer 1 applied: 101
peer 2 applied: 101
1------------------------
[{0 0} {1 101} {1 102}]
2018/12/14/ 10:10:37.098 leader 0 replicate send 0: [{1 102}]
 2018/12/14/ 10:10:37.098 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [2 1 1]
next index: [3 2 2]
2018/12/14/ 10:10:37.098 leader 0 replicate send 2: [{1 102}]
 2018/12/14/ 10:10:37.099 leader 0 replicate peer 2: [{1 102}]
 peer 2 true!!!!!!!
match index: [2 1 2]
next index: [3 2 3]
peer 0 applied: 102
peer 2 applied: 102
[{0 0} {1 101} {1 102} {1 103}]
2018/12/14/ 10:10:37.190 leader 0 replicate send 0: [{1 103}]
 2018/12/14/ 10:10:37.190 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
2018/12/14/ 10:10:37.190 leader 0 replicate send 2: [{1 103}]
 2018/12/14/ 10:10:37.191 leader 0 replicate peer 2: [{1 103}]
 match index: [3 1 2]
next index: [4 2 3]
peer 2 true!!!!!!!
match index: [3 1 3]
next index: [4 2 4]
peer 0 applied: 103
peer 2 applied: 103
2------------------------
2018/12/14/ 10:10:37.535 peer 1 starts election
2018/12/14/ 10:10:37.995 peer 1 starts election
[{0 0} {1 101} {1 102} {1 103} {1 104}]
2018/12/14/ 10:10:37.287 leader 0 replicate send 2: [{1 104}]
 2018/12/14/ 10:10:37.287 leader 0 replicate peer 2: [{1 104}]
 2018/12/14/ 10:10:37.288 leader 0 replicate send 0: [{1 104}]
 2018/12/14/ 10:10:37.288 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [3 1 4]
next index: [4 2 5]
peer 0 true!!!!!!!
match index: [4 1 4]
next index: [5 2 5]
peer 0 applied: 104
peer 2 applied: 104
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105}]
2018/12/14/ 10:10:37.372 peer 1 starts election
2018/12/14/ 10:10:37.379 leader 0 replicate send 2: [{1 105}]
 2018/12/14/ 10:10:37.379 leader 0 replicate peer 2: [{1 105}]
 2018/12/14/ 10:10:37.380 leader 0 replicate send 0: [{1 105}]
 2018/12/14/ 10:10:37.380 leader 0 replicate peer 0: []
 peer 0 true!!!!!!!
match index: [5 1 4]
next index: [6 2 5]
peer 2 true!!!!!!!
match index: [5 1 5]
next index: [6 2 6]
peer 0 applied: 105
peer 2 applied: 105
3------------------------
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106}]
2018/12/14/ 10:10:37.471 leader 0 replicate send 2: [{1 106}]
 2018/12/14/ 10:10:37.471 leader 0 replicate peer 2: [{1 106}]
 2018/12/14/ 10:10:37.471 leader 0 replicate send 0: [{1 106}]
 2018/12/14/ 10:10:37.472 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [5 1 6]
next index: [6 2 7]
peer 1 false!!!!!!!
leader 0 becomes follower in replicate
peer 0 true!!!!!!!
match index: [6 1 6]
next index: [7 2 7]
leader 0 return !!!
2018/12/14/ 10:10:37.929 peer 2 starts election
2018/12/14/ 10:10:37.930 peer 0(votedFor 0) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:37.930 peer 1(votedFor 1) current term 4 vote peer 2 current term 2: false
2018/12/14/ 10:10:37.960 peer 1 starts election
2018/12/14/ 10:10:37.961 peer 2(votedFor 2) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:37.961 peer 0(votedFor 0) current term 5 vote peer 1 current term 5: false
2018/12/14/ 10:10:37.966 peer 0 starts election
2018/12/14/ 10:10:37.967 peer 2(votedFor 0) current term 6 vote peer 0 current term 6: true
2018/12/14/ 10:10:37.967 peer 0 becomes leader
2018/12/14/ 10:10:37.967 peer 1(votedFor 0) current term 6 vote peer 0 current term 6: true
start hb
2018/12/14/ 10:10:37.968 leader 0 replicate send 1: [{1 102}]
 2018/12/14/ 10:10:37.968 leader 0 replicate peer 1: [{1 102}]
 peer 1 true!!!!!!!
match index: [6 2 6]
next index: [7 3 7]
peer 1 applied: 102
2018/12/14/ 10:10:37.998 leader 0 replicate send 1: [{1 103}]
 2018/12/14/ 10:10:37.998 leader 0 replicate peer 1: [{1 103}]
 peer 1 true!!!!!!!
match index: [6 3 6]
next index: [7 4 7]
peer 1 applied: 103
2018/12/14/ 10:10:37.029 leader 0 replicate send 1: [{1 104}]
 2018/12/14/ 10:10:37.029 leader 0 replicate peer 1: [{1 104}]
 peer 1 true!!!!!!!
match index: [6 4 6]
next index: [7 5 7]
peer 1 applied: 104
2018/12/14/ 10:10:37.059 leader 0 replicate send 1: [{1 105}]
 2018/12/14/ 10:10:37.059 leader 0 replicate peer 1: [{1 105}]
 peer 1 true!!!!!!!
match index: [6 5 6]
next index: [7 6 7]
peer 1 applied: 105
2018/12/14/ 10:10:37.090 leader 0 replicate send 1: [{1 106}]
 2018/12/14/ 10:10:37.090 leader 0 replicate peer 1: [{1 106}]
 peer 1 true!!!!!!!
match index: [6 6 6]
next index: [7 7 7]
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106}]
2018/12/14/ 10:10:37.460 leader 0 replicate send 1: [{6 106}]
 2018/12/14/ 10:10:37.460 leader 0 replicate peer 1: [{6 106}]
 2018/12/14/ 10:10:37.461 leader 0 replicate send 0: [{6 106}]
 2018/12/14/ 10:10:37.461 leader 0 replicate peer 0: []
 2018/12/14/ 10:10:37.461 leader 0 replicate send 2: [{6 106}]
 2018/12/14/ 10:10:37.461 leader 0 replicate peer 2: [{6 106}]
 peer 1 true!!!!!!!
match index: [6 7 6]
next index: [7 8 7]
peer 0 true!!!!!!!
match index: [7 7 6]
next index: [8 8 7]
peer 2 true!!!!!!!
match index: [7 7 7]
next index: [8 8 8]
peer 0 applied: 106
peer 0 applied: 106
peer 2 applied: 106
peer 1 applied: 106
peer 2 applied: 106
peer 1 applied: 106
[{0 0} {1 101} {1 102} {1 103} {1 104} {1 105} {1 106} {6 106} {6 107}]
2018/12/14/ 10:10:37.679 leader 0 replicate send 2: [{6 107}]
 2018/12/14/ 10:10:37.680 leader 0 replicate peer 2: [{6 107}]
 2018/12/14/ 10:10:37.679 leader 0 replicate send 0: [{6 107}]
 2018/12/14/ 10:10:37.680 leader 0 replicate peer 0: []
 peer 2 true!!!!!!!
match index: [7 7 8]
next index: [8 8 9]
2018/12/14/ 10:10:37.680 leader 0 replicate send 1: [{6 107}]
 2018/12/14/ 10:10:37.680 leader 0 replicate peer 1: [{6 107}]
 peer 0 true!!!!!!!
match index: [8 7 8]
next index: [9 8 9]
peer 1 true!!!!!!!
match index: [8 8 8]
next index: [9 9 9]
peer 0 applied: 107
peer 2 applied: 107
peer 1 applied: 107
  ... Passed --   5.8  3  184    8
PASS
ok  	raft	5.834s
=======================
